(self.modernJsonp=self.modernJsonp||[]).push([["49353"],{707510(e,t,r){r.r(t),r.d(t,{default:()=>o});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DrawerImageGroup_board",selections:[{args:null,kind:"FragmentSpread",name:"SendBoardButton_board"}],type:"Board",abstractKey:null};a.hash="0e2c441822700a6145ea7cd142c0425b";let o=a},872204(e,t,r){r.r(t),r.d(t,{default:()=>o});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DrawerImageGroup_coverPin",selections:[{alias:null,args:null,kind:"ScalarField",name:"imageUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"crop",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"size",storageKey:null}],type:"CoverPin",abstractKey:null};a.hash="35b139c2e951baaa6624b30e45f913ce";let o=a},421665(e,t,r){r.r(t),r.d(t,{default:()=>o});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SendBoardButton_board",selections:[{args:null,kind:"FragmentSpread",name:"SendBoardFlyout_board"}],type:"Board",abstractKey:null};a.hash="8d95294efe15498023c69669c6a41e71";let o=a},796198(e,t,r){r.r(t),r.d(t,{default:()=>o});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SendBoardFlyout_board",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageCoverUrl",storageKey:null}],type:"Board",abstractKey:null};a.hash="f459445ee8d1ea0db022e490ef5a2e80";let o=a},522321(e,t,r){r.d(t,{Z:()=>h});var a=r(859471),o=r(106386),n=r(979638),s=r(758576),l=r(837855),i=r(132946),c=r(264323),d=r(136078),u=r(251150);let h=()=>{let e=(0,n.zy)(),t=(0,l.A)(),r=(0,o.wA)(),{getNuxSignals:h,selectedUseCases:_,selectedPins:p,shouldUseNewReducerState:g}=(0,d.p)(),m=g?h():(0,c.xx)(_,p);return(0,a.useCallback)(()=>{let a=t.isAuth&&t.firstHomeFeedRequestAfterNux,o=(0,s.A)({viewerIsPartner:t.isAuth&&t.isPartner,inNux:(a&&r((0,u.ly)(!1)),a),staticFeed:!!(e&&(e.pathname.includes("pwt_performance_testing")||void 0!==(0,i.A)(e.search).pwt_performance_testing)),inNewsHub:e?.pathname.includes("news_hub")??!1});return{name:"UserHomefeedResource",options:m.length>0?{...o,nux_signals_map:m}:o}},[r,t,e,m])}},824589(e,t,r){r.d(t,{A:()=>s});var a=r(805454),o=r(467780),n=r(991224);function s(){let{isAuthenticated:e}=(0,o._8)(),t=(0,n.M)(),{checkExperiment:r}=(0,a.A)();return{mWebCloseupRedesignEnabled:e&&t&&r("mweb_closeup_redesign").anyEnabled,mWebCloseupRedesignExpGroup:r("mweb_closeup_redesign").group}}},753185(e,t,r){r.d(t,{U:()=>l,f:()=>i});var a=r(859471),o=r(4513),n=r(562615);let{Provider:s,get:l}=(0,o.A)("VisualShopContext");function i({children:e}){let[t,r]=(0,a.useState)({}),[o,l]=(0,a.useState)({}),i=(0,a.useRef)(0),c=(0,a.useRef)("");return(0,n.jsx)(s,{value:{cachedOneBarModules:t,setCachedOneBarModules:r,cachedDescriptorModules:o,setCachedDescriptorModules:l,imageContainerScrollTop:i,imageContainerScrollTopForPinId:c},children:e})}},422230(e,t,r){r.d(t,{A:()=>a});let a=e=>({isAnalyticsSite:4===e,isSterlingSite:3===e,isWwwSite:0===e,isTrendsSite:7===e,isPlanningHub:12===e})},252825(e,t,r){r.d(t,{A:()=>a});let a='-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Helvetica,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","ヒラギノ角ゴ Pro W3","Hiragino Kaku Gothic Pro",メイリオ,Meiryo,"ＭＳ Ｐゴシック",Arial,sans-serif'},993974(e,t,r){r.d(t,{V:()=>h,Xv:()=>_,qD:()=>c});var a=r(859471),o=r(979638),n=r(4513),s=r(639410),l=r(562615);let{Provider:i,get:c}=(0,n.A)("HistoryStackContext",{previous:[],current:null,forward:[]}),d=e=>e&&e.pathname?e.pathname+(e.search||""):"";function u(e,t){let r={action:t.action,location:t.location,matchedPath:t.matchedPath};if(t.location===e.current?.location)return e;switch(t.action){case"POP":if(e.forward.length>0&&d(e.forward[0].location)===d(r.location))return{...e,forward:e.forward.slice(1),current:{...e.forward[0],action:t.action},previous:e.current?[...e.previous,{action:e.current.action,location:e.current.location,matchedPath:e.current.matchedPath}]:e.previous};return{...e,forward:e.current?[{action:e.current.action,location:e.current.location,matchedPath:e.current.matchedPath},...e.forward]:e.forward,current:{...e.previous.slice(-1)[0],action:t.action},previous:e.previous.slice(0,-1)};case"PUSH":return{...e,forward:e.forward.length>0?[]:e.forward,current:r,previous:e.current?[...e.previous,{action:e.current.action,location:e.current.location,matchedPath:e.current.matchedPath}]:e.previous};case"REPLACE":return{...e,current:r};default:return e}}function h(){let{current:e,previous:t}=c();return(0,a.useMemo)(()=>e?t.concat(e):t,[e,t])}function _({children:e}){let t=(0,o.wQ)(),r=(0,o.zy)(),n=(0,s.A)(),[c,d]=(0,a.useReducer)(u,{forward:[],current:{action:t,location:r,matchedPath:n},previous:[]}),h=(0,a.useRef)(r),_=(0,a.useRef)(n);return(h.current!==r||_.current!==n)&&(d({action:t,location:r,matchedPath:n}),h.current=r,_.current=n),(0,l.jsx)(i,{value:c,children:e})}},446775(e,t,r){r.d(t,{A:()=>o});var a=r(859471);let o=function(e,t){let r=(0,a.useRef)(e),o=(0,a.useRef)(void 0),n=(0,a.useRef)(void 0);(0,a.useEffect)(()=>{r.current=e},[e]),(0,a.useEffect)(()=>()=>{o.current&&clearTimeout(o.current)},[t]);let s=(0,a.useCallback)((...e)=>{n.current=e,o.current&&clearTimeout(o.current),o.current=window.setTimeout(()=>{r.current(...e),n.current=void 0},t)},[t]);return s.flush=(0,a.useCallback)(()=>{if(o.current&&(clearTimeout(o.current),o.current=void 0),n.current){let e=n.current;return n.current=void 0,r.current(...e)}},[]),s.cancel=(0,a.useCallback)(()=>{o.current&&(clearTimeout(o.current),o.current=void 0),n.current=void 0},[]),s}},563517(e,t,r){r.d(t,{A:()=>s});var a=r(52715),o=r(370714),n=r(361268);function s(){let e=(0,o.A)();return function(t,r){let o=new Date(t).getTime(),s=Date.now()-o,l=Math.floor(s/6e4),i=Math.floor(s/a.Qv),c=Math.floor(s/a.Wm),d=Math.floor(s/a.AK),u=Math.floor(s/a.c7),h=Math.floor(s/a.ZR),_=e.ngettext('{{ minutes }} minute ago', '{{ minutes }} minutes ago', l, ' - ', ' -- '),p=e.ngettext('{{ hours }} hour ago', '{{ hours }} hours ago', i, ' - ', ' -- '),g=e.ngettext('{{ days }} day ago', '{{ days }} days ago', c, ' - ', ' -- '),m=e.ngettext('{{ weeks }} week ago', '{{ weeks }} weeks ago', d, ' - ', ' -- '),f=e.ngettext('{{ months }} month ago', '{{ months }} months ago', u, 'useGetHumanizedTimeSince.monthsString', 'months since last update'),b=e.ngettext('{{ years }} year ago', '{{ years }} years ago', h, ' - ', ' -- '),y=e.ngettext('{{ minutes }}m', '{{ minutes }}m', l, 'minutes ago abbreviated', 'minutes ago abbreviated'),w=e.ngettext('{{ hours }}h', '{{ hours }}h', i, 'hours ago abbreviated', 'hours ago abbreviated'),v=e.ngettext('{{ days }}d', '{{ days }}d', c, 'days ago abbreviated', 'days ago abbreviated'),A=e.ngettext('{{ weeks }}w', '{{ weeks }}w', d, 'weeks ago abbreviated', 'weeks ago abbreviated'),x=e.ngettext('{{ months }}mo', '{{ months }}mo', u, 'months ago abbreviated', 'months ago abbreviated'),S=e.ngettext('{{ years }}y', '{{ years }}y', h, 'years ago abbreviated', 'years ago abbreviated');return h>0?(0,n.vQ)(r?S:b,{years:h}).join(""):u>0?(0,n.vQ)(r?x:f,{months:u}).join(""):d>0?(0,n.vQ)(r?A:m,{weeks:d}).join(""):c>0?(0,n.vQ)(r?v:g,{days:c}).join(""):i>0?(0,n.vQ)(r?w:p,{hours:i}).join(""):l>0?(0,n.vQ)(r?y:_,{minutes:l}).join(""):e._('Just now', ' - ', ' -- ')}}},914981(e,t,r){r.d(t,{Al:()=>o,BD:()=>g,EQ:()=>d,Fm:()=>s,Gb:()=>i,Km:()=>h,L3:()=>_,Ll:()=>p,ON:()=>m,TL:()=>l,Wv:()=>f,dK:()=>b,qm:()=>c,t2:()=>a,tg:()=>n,w5:()=>u});let a=["attempted","publishing","succeeded","uploading"],o={carousel:[{w:2,h:3},{w:3,h:4},{w:1,h:1}],single:[{w:2,h:3},{w:3,h:4},{w:1,h:1}],story:[{w:9,h:16}],storyFARPortrait:[{w:1,h:2},{w:9,h:16},{w:2,h:3},{w:3,h:4},{w:4,h:5},{w:1,h:1}],storyFARLandscape:[{w:2,h:1},{w:16,h:9},{w:3,h:2},{w:4,h:3},{w:5,h:4},{w:1,h:1}]},n=["tl","tc","tr","bl","bc","br"],s=["left","center"],l=["top","center","bottom"],i=["none","uppercase"],c=["sm","md","lg"],d=[1,.75],u="cubic-bezier(0.66, 0.025, 0.33, 0.975)",h=["creating","processing","publishing","saving"],_=0xc800000,p="pin-builder-default-education-id",g="pin-builder-default-tour-id",m="pin-builder-editing-tour-id",f="save_from_url",b=["processing","edited","creating","saving","saved"]},558303(e,t,r){r.d(t,{A:()=>a});let a=e=>{let t={};e.forEach(({label:e,timestamp:r})=>{t={...t,[e]:(t[e]||[]).concat([r])}});let r=Object.freeze({});return Object.keys(t).forEach(e=>{(t[e]||[]).forEach((t,a)=>{let o=a?`${e}_${a+1}`:e;r={...r,[o]:t}})}),r}},178534(e,t,r){r.d(t,{A:()=>n});var a=r(217870),o=r(3210);function n(){let e=navigator.serviceWorker;return e&&e.getRegistration?((0,o.PM)("mweb_service_worker.unregister_attempt"),e.getRegistration().then(e=>{if(e)return e.unregister().then(()=>((0,o.PM)("mweb_service_worker.unregister_success"),navigator.serviceWorker&&window.caches?window.caches.keys().then(e=>{let t=e.find(e=>e.startsWith("workbox-precaching"));return t?window.caches.delete(t):null}).then(()=>(0,o.PM)("mweb_service_worker.clear_app_shell")):Promise.resolve())).catch(e=>{(0,o.fu)("mweb_service_worker.unregister_fail",{error:(0,a.A)(e,"message")})})})):Promise.resolve()}},292961(e,t,r){r.d(t,{A:()=>n});var a=r(991224),o=r(876808);function n(){return function({deviceType:e,site:t}){switch(t){case"analytics":return 4;case"business":return 6;case"planninghub-internal":return 12;case"sterling":return 3;case"trends":return 7;case"trends-internal":return 8;case"commerce-app":case"commerce-app-latest":case"pintergration":return 10;case"creators":case"create":return 11;case"newsroom":return 13;case"about":return 14;case"pinnacle-internal":return 17;default:return+("phone"===e||"tablet"===e)}}({deviceType:(0,a.Ay)(),site:(0,o.gx)()})}},181033(e,t,r){r.d(t,{A:()=>l});var a=r(840910),o=r(859471),n=r(950794),s=r(562615);function l({ariaHidden:e=!1,color:t,size:r}){return(0,o.useEffect)(()=>{(0,a.A)("Dot","/app/packages/ui/Dot.tsx")},[]),(0,s.jsx)("span",{"aria-hidden":e,style:{padding:"0 4px"},children:(0,s.jsx)(n.KJ,{color:t,inline:!0,size:r??"200",children:"·"})})}},155357(e,t,r){r.d(t,{A:()=>s,e:()=>n});var a=r(859471);let o=()=>{let[e,t]=(0,a.useState)(!1),[r,o]=(0,a.useState)(!1),[n,s]=(0,a.useState)(!1);return{active:e,focused:r,hovered:n,onBlur:()=>{o(!1),t(!1)},onFocus:()=>o(!0),onMouseDown:()=>t(!0),onMouseEnter:()=>s(!0),onMouseLeave:()=>{s(!1),t(!1)},onMouseUp:()=>t(!1)}};function n({children:e}){return e(o())}let s=o},745764(e,t,r){r.d(t,{A:()=>d,k:()=>c});var a=r(859471),o=r(422230),n=r(467780),s=r(292961),l=r(356755),i=r(251381);let c=(0,a.createContext)(void 0),d=function(){let{advertiser:e}=(0,n._8)(),t=function(){let{isSterlingSite:e}=(0,o.A)((0,s.A)());return(0,a.use)(c)??e}(),r=(0,i.A)(),d=((0,l.K)()?.profiles||[]).find(t=>t?.id===e?.owner_user_id);return t&&d||r}},289603(e,t,r){r.d(t,{$:()=>o});var a=r(805454);function o(){let{checkExperiment:e}=(0,a.A)();switch(e("entrypoints_collage_wasm").group){case"prefetch_all":default:return{preloadExtent:"Both"};case"prefetch_only_js":return{preloadExtent:"OnlyJS"};case"control":return{preloadExtent:"None"}}}},67376(e,t,r){r.d(t,{A:()=>n});var a=r(837855),o=r(805454);let n=()=>{let{checkExperiment:e}=(0,o.A)(),t=(0,a.A)(),r=t.isAuth&&!t.isPartner;return (t=!1)=>{if(!r)return{anyEnabled:!1,followupFeatureEnabled:!1};let a=e("web_collage_creation",{dangerouslySkipActivation:t}),{anyEnabled:o}=a;return{anyEnabled:o,followupFeatureEnabled:a.group.startsWith("employee")||"enabled_followup_feature"===a.group}}}},312032(e,t,r){r.d(t,{H:()=>l,_:()=>i});var a=r(859471),o=r(4513),n=r(562615);let{Provider:s,get:l}=(0,o.A)("Session");function i({children:e}){let[t,r]=(0,a.useState)(void 0),o=(0,a.useCallback)(()=>r(void 0),[]),l=(0,a.useMemo)(()=>({unauthFollowUserId:t,setUnauthFollowUserId:r,removeUnauthFollowUserId:o}),[t,o]);return(0,n.jsx)(s,{value:l,children:e})}},449854(e,t,r){r.d(t,{A:()=>u});var a=r(840910),o=r(859471),n=r(950794),s=r(562615);function l(e){return`${Math.min(100*e,100)}%`}function i({customCover:e,imgPos:t,imgUrl:r}){let[a,n]=(0,o.useState)({height:0,loaded:!1,width:0}),{height:s,loaded:i,width:c}=a;if((0,o.useEffect)(()=>{let e=new Image;e.onload=()=>{n({height:e.naturalHeight,loaded:!0,width:e.naturalWidth})},e.src=r},[r]),!e||!t||!s||!c)return{loaded:i,position:"center center"};let d=c-t.width,u=s-t.height,h=d>0?l(t.x/d):"center",_=u>0?l(t.y/u):"center";return{loaded:i,position:`${h} ${_}`}}function c(e){let{loaded:t,position:r}=i(e),{imgUrl:a}=e,o={backgroundImage:`url(${a})`,backgroundPosition:r,backgroundRepeat:"no-repeat",backgroundSize:"cover",minHeight:"100%",backgroundColor:"#EFEFEF",position:"relative"};return(0,s.jsx)(n.az,{"data-test-id":"cover-image-box",height:"100%",width:"100%",children:t&&(0,s.jsx)(n.az,{dangerouslySetInlineStyle:{__style:o},"data-test-id":"cover-image",children:(0,s.jsx)("div",{className:"imageWash",style:{position:"absolute"}})})})}function d(e){let{loaded:t,position:r}=i(e),{alt:a,color:o,imgUrl:l}=e;return(0,s.jsx)(n.n1,{height:"100%",width:"100%",children:t&&(0,s.jsx)("img",{alt:a||"",src:l,style:{backgroundColor:o||"#EFEFEF",fetchPriority:"cover",height:"100%",loading:"auto",objectFit:"cover",objectPosition:r,width:"100%"}})})}function u(e){(0,o.useEffect)(()=>{(0,a.A)("CoverImage","/app/www/board/CoverImage.tsx")},[]);let{renderAsImage:t}=e;return t?(0,s.jsx)(d,{...e}):(0,s.jsx)(c,{...e})}},67989(e,t,r){r.d(t,{A:()=>x});var a,o,n=r(840910),s=r(859471);r(669897);var l=r(950794),i=r(816858),c=r(370714),d=r(25786),u=r(805454),h=r(467780),_=r(991224),p=r(704660),g=r(449854),m=r(562615);function f({backgroundColor:e="darkGray",iconColor:t="inverse",iconSize:r,privacy:a,size:o=20}){(0,s.useEffect)(()=>{(0,n.A)("PrivacyIcon","/app/www/board/duplo/PrivacyIcon.tsx")},[]);let i=(0,c.A)();return(0,m.jsx)(l.az,{alignItems:"center",color:e,direction:"column",display:"flex",height:o,justifyContent:"center",rounding:"circle",width:o,children:(0,m.jsx)(l.In,{accessibilityLabel:i._('Secret board icon', 'Icon indicating that a board is secret', 'Icon indicating that a board is secret'),color:t,icon:"secret"===a?"lock":"shield",size:r??o/2})})}var b=r(876982),y=r(889025);let w=(void 0!==a||(a=r(707510)).hash&&"0e2c441822700a6145ea7cd142c0425b"!==a.hash&&console.error("The definition of 'DrawerImageGroup_board' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),a),v=(void 0!==o||(o=r(872204)).hash&&"35b139c2e951baaa6624b30e45f913ce"!==o.hash&&console.error("The definition of 'DrawerImageGroup_coverPin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),o),A="100%";function x(e){(0,s.useEffect)(()=>{(0,n.A)("DrawerImageGroup","/app/www/board/DrawerImageGroup.tsx")},[]);let t=(0,c.A)(),{boardKey:r,canEdit:a,containerBackgroundColor:o="white",coverPhoto:x,coverPinKey:S,fullSize:P,hideSecretBoardIcon:z,images:j,isActive:C,isHomePageBoards:k,isProtected:E,isSecret:I,layout:U,onEditClick:B,renderAsImage:R,showSensitivityScreen:F}=e,T=(0,_.qJ)(),{isRTL:D,isAuthenticated:M}=(0,h._8)(),L=(0,i.A)(w,r),H=(0,i.A)(v,S),K=(0,s.useRef)(null),N=T&&M,{checkExperiment:W}=(0,u.A)(),[O,G]=(0,s.useState)(!1);(0,s.useEffect)(()=>{C&&N&&L&&!I&&!O&&G(W("ce_dweb_board_preview_share_button").anyEnabled)},[C,N,L,I,O,W]);let Q=(0,s.useRef)(void 0);(0,s.useEffect)(()=>{C?Q.current&&(clearTimeout(Q.current),Q.current=void 0):Q.current||(Q.current=window.setTimeout(()=>{Q.current=void 0,C||G(!1)},200))},[C]),(0,s.useEffect)(()=>()=>{Q.current&&clearTimeout(Q.current)},[]);let $=j[0],X=!x&&j[0]?.name||t._('Cover image', 'DrawerImageGroup', 'Alt text for the main image of a board'),q=[,,].fill(0),J=new l.rk(1),V=$?.url?(0,m.jsx)(l._V,{alt:X,color:"#efefef",fit:"cover",naturalHeight:133,naturalWidth:133,src:$.url}):(0,m.jsx)(l.az,{color:"secondary",height:"100%",width:"100%"}),Y=F?{filter:"blur(20px)"}:{};return(0,m.jsxs)(l.n1,{height:P?"100%":void 0,rounding:400,width:"100%",children:[(0,m.jsxs)(l.so,{alignItems:"stretch",direction:"row",height:"100%",justifyContent:"start",children:[(0,m.jsx)(l.VP,{span:8,children:(0,m.jsx)(l.az,{dangerouslySetInlineStyle:{__style:Y},height:P?"100%":void 0,position:"relative",children:(0,m.jsx)(l.az,{color:"secondary",dangerouslySetInlineStyle:{__style:{paddingBottom:A}},overflow:"hidden",width:"100%",children:(0,m.jsxs)(l.az,{ref:K,bottom:!0,dangerouslySetInlineStyle:{__style:{borderColor:k?"#FFDFE9":o,borderStyle:"solid",borderWidth:"1px 0 1px 1px",borderRadius:"16px 0 0 16px"}},"data-test-id":"drawer-image-group-first-image-container",left:!0,overflow:"hidden",position:"absolute",right:!0,top:!0,children:[(E||I)&&!z&&(0,m.jsx)(l.az,{left:!D,margin:2,position:"absolute",right:D,top:!0,zIndex:J,children:(0,m.jsx)(f,{backgroundColor:"default",iconColor:"default",privacy:I?"secret":"protected",size:N?32:24})}),x?.url?(0,m.jsx)(l.n1,{height:"100%",wash:!0,width:"100%",children:(0,m.jsx)(g.A,{customCover:x.isCustom,height:"square"===U?157:213,imgPos:H?function(e){let{crop:t,size:r}=e||{};if(Array.isArray(t)&&Array.isArray(r))return{x:t[0]||0,y:t[1]||0,width:r[0]||0,height:r[1]||0}}(H):x.position||{width:0,height:0,x:0,y:0},imgUrl:H?.imageUrl??(x.url||""),renderAsImage:R,width:Math.floor(("square"===U?236:320)/3*2)})}):V]})})})}),(0,m.jsx)(l.VP,{span:4,children:(0,m.jsxs)(l.az,{dangerouslySetInlineStyle:{__style:Y},height:"100%",children:[(a||O)&&(0,m.jsxs)(l.az,{bottom:!0,display:O?"flex":void 0,left:D,margin:2,opacity:100*!!C,position:"absolute",right:!D,zIndex:J,children:[O&&(0,m.jsx)(l.Rp,{onTap:({event:e})=>{e.preventDefault(),e.stopPropagation()},children:(0,m.jsx)(l.az,{marginEnd:1,children:(0,m.jsx)(y.A,{boardKey:L,handleCreatePincode:()=>{},iconColor:"default",size:"sm"})})}),a&&(0,m.jsx)(l.Rp,{onTap:({event:e})=>B?.(e),children:(0,m.jsx)(l.K0,{accessibilityLabel:t._('Edit', 'DrawerImageGroup.edit', 'Icon indicating that a board is editable'),bgColor:"default",icon:"pencil",iconColor:"default",size:"sm",tabIndex:-1})})]}),q.map((e,t)=>{let r=x?j[t]:j[t+1];return(0,m.jsx)(l.az,{height:P?"50%":void 0,position:"relative",children:(0,m.jsx)(l.az,{color:"secondary",dangerouslySetInlineStyle:{__style:{paddingBottom:A}},overflow:"hidden",width:"100%",children:(0,m.jsx)(l.az,{bottom:!0,dangerouslySetInlineStyle:{__style:{borderColor:k?"#FFDFE9":o,borderStyle:"solid",borderWidth:0===t?1:"0 1px 1px 1px",borderRadius:0===t?"0 16px 0 0":"0 0 16px 0"}},left:!0,overflow:"hidden",position:"absolute",right:!0,top:!0,children:r?.url?(0,m.jsx)(l.n1,{height:"100%",wash:!0,width:"100%",children:(0,m.jsx)(l._V,{alt:"",color:"#efefef",fit:"cover",naturalHeight:133,naturalWidth:133,src:r.url})}):(0,m.jsx)(l.az,{color:"secondary",height:"100%",width:"100%"})})})},t)})]})}),F&&(0,m.jsx)(l.az,{alignItems:"center",dangerouslySetInlineStyle:{__style:{background:"rgba(0,0,0,0.5)"}},display:"flex",height:"100%",justifyContent:"center",position:"absolute",top:!0,width:"100%",children:(0,m.jsx)(l._Y,{align:"center",color:"light",size:"400",children:t._('This board may contain sensitive content', 'drawerImageGroup.sensitivityScreen.heading', 'Warning text for a board that may have sensitive content')})})]}),(0,m.jsx)(p.A,{visibility:C?"visible":"none",children:(0,m.jsx)(b.A,{additionalStyles:{backgroundColor:d.E.LEGO_WASH}})})]})}},335032(e,t,r){r.d(t,{A:()=>c});var a=r(840910),o=r(859471),n=r(950794),s=r(562615);let l={__style:{margin:"0 10px",borderRight:"3px solid transparent",borderTop:"3px solid #fff",animation:"spin .8s linear infinite"}};function i(){return(0,s.jsx)(n.az,{alignItems:"center",color:"primary",display:"flex",height:"100%",justifyContent:"center",position:"absolute",rounding:800,width:"100%",children:(0,s.jsx)(n.az,{dangerouslySetInlineStyle:l,"data-test-id":"submit-button-spinner",display:"inlineBlock",height:18,position:"relative",rounding:"circle",width:18})})}function c({disabled:e,form:t,fullWidth:r,name:l,onClick:c,size:d,submitting:u,text:h}){return(0,o.useEffect)(()=>{(0,a.A)("SubmitButton","/app/www/common/SubmitButton/SubmitButton.tsx")},[]),(0,s.jsxs)(n.az,{"data-test-id":"submit-button",display:"flex",position:"relative",children:[u&&(0,s.jsx)(i,{}),(0,s.jsx)(n.$n,{color:"primary",disabled:e||u,form:t,fullWidth:r,name:l,onClick:c,size:d,text:h,type:"submit"})]})}},264323(e,t,r){r.d(t,{Pi:()=>u,Wu:()=>c,of:()=>i,xx:()=>d});var a=r(550247),o=r(792307),n=r(425347);let s=e=>e>=Date.now()-72e5,l=(e,t)=>{let r=[];if(e)for(let a of e)(!t||a.is_shared)&&s(a.ts)&&r.push(a);return r},i=()=>{let e=(0,o.y1)().getItem(a.sH)??[],t=l(e,!1),r=l(e,!0),n=t.map(e=>e.first_pin_image_signature),i=r.map(e=>e.first_pin_image_signature),c=(e=>{let t={};if(e)for(let r of e)r.is_shared&&s(r.ts)&&r.pin_id&&(t[r.pin_id]={inviteCode:r.pin_invite_code});return t})(e);return{extraPlpImages:n,plpImageRenderData:t,extraBlpImages:l((0,o.y1)().getItem(a.xH)??[],!0).map(e=>e.first_pin_image_signature),extraSharedImages:i,sharedPinData:c}},c=(e,t)=>{if(e.length!==t.length)return!1;for(let r=0;r<e.length;r+=1)if(e[r].id!==t[r].id)return!1;return!0},d=(e,t)=>e.map(e=>({1:e,2:(t[e]||[]).map(e=>({1:e,2:"pin"}))})),u=(e,t,r,a)=>{let o={};return e.forEach(e=>{let s=e.id,l=e.pins.length??0;o[s]=l,(0,n.U9)("webapp.log.nux.pin.picker.step.pin.number.of.pins",l,{sampleRate:1,addHostname:!0,tags:{appType:t,useCaseId:s,gender:r,age:a,use_case_display_name:e.display_name}}),(0,n.uI)("gauge.webapp.log.nux.pin.picker.step.pin.number.of.pins",l,{sampleRate:1,addHostname:!0,tags:{appType:t,useCaseId:s,gender:r,age:a,use_case_display_name:e.display_name}})}),o}},804952(e,t,r){r.d(t,{Bh:()=>n,i:()=>o,wC:()=>a});let a=e=>e._('Log in to continue', 'limitedLogin.modalHeader.default', 'Default title on mobile web limited login modal'),o=e=>e._('You\'re almost there! Log in to access all of Pinterest', 'loginModal.limitedLogin.subheader', 'Subheader text on personalized login modal/flyout to remind users to log in'),n=({i18n:e,toFollow:t})=>t?e._('Log in to follow', 'limitedLogin.modalHeader.follow', 'Title on mobile web limited login modal to prompt users to login to follow a user or board.'):e._('Log in to unfollow', 'limitedLogin.modalHeader.unfollow', 'Title on mobile web limited login modal to prompt users to login to unfollow a user or board.')},902256(e,t,r){r.d(t,{Ah:()=>a,Ny:()=>s,SG:()=>o,Xm:()=>n,Yb:()=>c,Zl:()=>h,d2:()=>p,dS:()=>_,f9:()=>u,j0:()=>d,kt:()=>i,os:()=>l});let a="unspecified",o="Welcome",n="CountryLocale",s="InterestPicker",l="UseCase",i="PinPicker",c="LoadingStep",d="AppInstall",u="NUX_PIN_PICKER_STEP_STATUS",h="NUX_USE_CASE_STEP_STATUS",_={NUX_GENDER_STEP_NAME:"Gender",NUX_COUNTRY_LOCALE_STEP_NAME:n,NUX_INTEREST_PICKER_STEP_NAME:s,NUX_USE_CASE_STEP_NAME:l,NUX_PIN_PICKER_STEP_NAME:i,NUX_LOADING_STEP_NAME:c,NUX_APP_INSTALL_STEP_NAME:d},p=1e10},136078(e,t,r){r.d(t,{N:()=>c,p:()=>i});var a=r(859471),o=r(4513);let n=(e,t)=>{let r=((e,t)=>{switch(t.type){case"SELECT_PIN":{let{pinData:r,pinId:a,useCaseId:o}=t.payload;return function({pinData:e,pinId:t,state:r,useCaseId:a}){let o=new Map(r.selectedUseCases),n=o.get(a)||{selectedPins:[],heroPin:null,backfillPins:[]},s={...e,pinId:t,selectedAt:Date.now()};return o.set(a,{...n,selectedPins:[...n.selectedPins,s]}),{...r,selectedUseCases:o}}({pinData:r,pinId:a,state:e,useCaseId:o})}case"DESELECT_PIN":{let{pinId:r,useCaseId:a}=t.payload;return function({pinId:e,state:t,useCaseId:r}){let a=new Map(t.selectedUseCases),o=a.get(r);return o&&a.set(r,{...o,selectedPins:o.selectedPins.filter(t=>t.pinId!==e)}),{...t,selectedUseCases:a}}({pinId:r,state:e,useCaseId:a})}case"SELECT_USE_CASE":{let{heroPin:r,useCaseId:a}=t.payload;return function({heroPin:e,state:t,useCaseId:r}){let a=new Map(t.selectedUseCases);return a.set(r,{selectedPins:[],heroPin:e,backfillPins:[]}),{...t,selectedUseCases:a}}({heroPin:r,state:e,useCaseId:a})}case"DESELECT_USE_CASE":{let{useCaseId:r}=t.payload;return function({state:e,useCaseId:t}){let r=new Map(e.selectedUseCases);return r.delete(t),{...e,selectedUseCases:r}}({state:e,useCaseId:r})}case"ADD_BACKFILL_PINS":{let{backfillPins:r,useCaseId:a}=t.payload;return function({backfillPins:e,state:t,useCaseId:r}){let a=new Map(t.selectedUseCases),o=a.get(r);return o&&a.set(r,{...o,backfillPins:[...e]}),{...t,selectedUseCases:a}}({backfillPins:r,state:e,useCaseId:a})}default:return e}})(e,t);return{...r,history:[...r.history||[],t]}};var s=r(562615);let{Provider:l,get:i}=(0,o.A)("Nux");function c({children:e}){let[t,r]=(0,a.useState)([]),[o,i]=(0,a.useState)({}),[c,d]=(0,a.useState)(!1),u={selectedUseCases:new Map,history:[]},[h,_]=(0,a.useReducer)(n,u),p=(0,a.useCallback)(()=>Array.from(h.selectedUseCases.values()).reduce((e,t)=>e+t.selectedPins.length,0),[h.selectedUseCases]),g=(0,a.useCallback)(e=>Array.from(h.selectedUseCases.entries()).reduce((t,[r,a])=>e&&r===e?t:t.concat(a.selectedPins),[]),[h.selectedUseCases]),m=(0,a.useCallback)(e=>g(e).map(e=>({url:e.imageMediumUrl,height:e.height,width:e.width})),[g]),f=(0,a.useCallback)(()=>{let e=[];for(let[t,r]of h.selectedUseCases){let a=r.selectedPins.map(e=>({1:e.pinId,2:"pin"}));e.push({1:t,2:a})}return e},[h.selectedUseCases]),b=(0,a.useCallback)(()=>h.selectedUseCases&&p()>=3,[p,h.selectedUseCases]),y=(0,a.useCallback)(()=>h.selectedUseCases.size>=3,[h.selectedUseCases]),w=(0,a.useMemo)(()=>({checkHasMetMinimumPinSelectionRequirement:b,checkHasMetMinimumUseCaseSelectionRequirement:y,getNuxSignals:f,getNumSelectedPins:p,getSelectedPinImageData:m,nuxSelectionsDispatch:_,nuxSelectionsState:h,selectedPins:o,selectedUseCases:t,setSelectedPins:i,setSelectedUseCases:r,setShouldUseNewReducerState:d,shouldUseNewReducerState:c}),[b,y,f,p,m,_,h,o,t,i,r,d,c]);return(0,s.jsx)(l,{value:w,children:e})}},307295(e,t,r){r.d(t,{H:()=>a});let a="_profile"},251150(e,t,r){r.d(t,{Fq:()=>d,TK:()=>i,b8:()=>u,ly:()=>c});var a=r(867076),o=r(217870),n=r(752411),s=r(841037),l=r(902256);function i(e){let{updateUserData:t}=e,r={},n=null;if(t.gender&&["female","male"].includes(t.gender)?r.gender=t.gender:t.custom_gender&&(r.custom_gender=t.custom_gender,r.customGender=t.custom_gender,r.gender=l.Ah),t.age?r.age=t.age:t.birthdate&&(r.birthdate=t.birthdate),t.locale&&(r.locale=t.locale),t.country&&(r.country=t.country),t.business_vertical&&(r.businessVertical=t.business_vertical),t.business_vertical_other&&(r.businessVerticalOther=t.business_vertical_other),t.number_employees&&(r.numberEmployees=t.number_employees),t.first_name&&(r.firstName=t.first_name),t.last_name&&(r.lastName=t.last_name),t.full_name&&(r.fullName=t.full_name),t.parent_email&&(r.parentEmail=t.parent_email),t.website_url&&(r.websiteUrl=t.website_url),t.listed_website_url&&(r.listedWebsiteUrl=t.listed_website_url),void 0!==t.allow_analytic_cookies&&(r.allow_analytic_cookies=t.allow_analytic_cookies),void 0!==t.allow_analytic_cookies&&(r.allow_marketing_cookies=t.allow_marketing_cookies),void 0!==t.allow_analytic_cookies&&(r.allow_personalization_cookies=t.allow_personalization_cookies),t.advertising_intent||t.business_name||t.account_type||t.business_goals||t.selected_ecommerce_platforms||t.enable_profile_message||t.enable_profile_address){let{account_type:e,advertising_intent:r,business_name:a,business_goals:o,enable_profile_message:s,enable_profile_address:l,selected_ecommerce_platforms:i}=t;n={...r?{advertising_intent:r}:{},...e?{account_type:e}:{},...a?{business_name:a}:{},...o?{business_goals:o}:{},...s?{enable_profile_message:s}:{},...l?{enable_profile_address:l}:{},...i?{selected_ecommerce_platforms:i}:{}}}n&&(r.partner=n,n.business_name&&(r.firstName=n.business_name));let i=a.A.create("UserSettingsResource",{...t,surface_tag:s.r.NUX}).callUpdate();return async function(e){try{let t=await i;return e({type:"UPDATE_USER_SET",payload:r}),t}catch(e){return Promise.reject(Error((0,o.A)(e,"message")))}}}function c(e){return{type:"UPDATE_USER_FIRST_HOME_FEED_REQUEST_AFTER_NUX",payload:e}}function d(e,t){return()=>{(0,n.A)({url:"/v3/users/state/{state}/",method:"PUT",urlParams:{state:e},data:{value:t}})}}function u(e,t=""){return()=>a.A.create("UpdateFollowedInterestsResource",{referrer:t,updated_interest_follows:e}).callUpdate()}},715029(e,t,r){r.d(t,{A:()=>g});var a,o=r(840910),n=r(859471);r(825193);var s=r(950794),l=r(812718),i=r(816858),c=r(370714),d=r(759802),u=r(880937),h=r(562615);let _=(void 0!==a||(a=r(796198)).hash&&"f459445ee8d1ea0db022e490ef5a2e80"!==a.hash&&console.error("The definition of 'SendBoardFlyout_board' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),a);class p extends n.Component{constructor(...e){var t,r,a;super(...e),r={flyoutOpen:!1},(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t="state","string"))?a:a+"")in this?Object.defineProperty(this,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):this[t]=r}render(){let{board:e,bgColor:t="default",children:r,iconColor:a="subtle",onCreatePincode:o,showTooltip:l,size:i="lg"}=this.props,{flyoutOpen:c}=this.state,_={description:e?.description,id:e?.entityId??"",imageUrl:e?.imageCoverUrl,name:e?.name??void 0,type:"board",url:e?.url??void 0},p=e=>{let{requireAuth:t}=this.props;if(t){e&&e.preventDefault(),t();return}this.state.flyoutOpen||this.props.onOpen(),this.setState(e=>({flyoutOpen:!e.flyoutOpen}))},g=r&&r({active:c,onClick:()=>p()})||(0,h.jsx)(s.K0,{ref:this.props.sendBoardButtonRef,accessibilityLabel:this.props.i18n._('Send Board', 'Accessible label for button to send board', 'Accessible label for button to send board'),bgColor:t,dataTestId:"send-board-button-icon",icon:"share",iconColor:a,onClick:({event:e})=>p(e),selected:c,size:i,tooltip:l?{text:this.props.i18n._('Share board', 'sendBoardFlyout.button.tooltip', 'Tooltip for button to share board')}:void 0});return(0,h.jsxs)(n.Fragment,{children:[(0,h.jsx)(s.az,{ref:e=>{this.anchor=e},children:g}),this.state.flyoutOpen&&(0,h.jsx)(s.Wd,{zIndex:u.u$,children:(0,h.jsx)(s.AM,{anchor:this.anchor,idealDirection:"down",onDismiss:()=>p(),positionRelativeToAnchor:!1,size:"flexible",children:(0,h.jsx)(d.A,{component:13216,onCreatePincodeClick:o?()=>{p(),o()}:void 0,onHide:()=>p(),sendShareSurface:5,sendType:"board",sharedObject:_,viewType:5})})})]})}componentDidMount(){(0,o.A)("SendBoardFlyout","/app/www/save/board/BoardInfoBar/SendBoardFlyout.tsx")}}let g=e=>{(0,n.useEffect)(()=>{(0,o.A)("SendBoardFlyout","/app/www/save/board/BoardInfoBar/SendBoardFlyout.tsx")},[]);let t=(0,c.A)(),r=(0,l.A)(),a=(0,i.A)(_,e.boardKey);return(0,h.jsx)(p,{...e,board:a,i18n:t,requireAuth:r,sendBoardButtonRef:e.sendBoardButtonRef})}},889025(e,t,r){r.d(t,{A:()=>f});var a,o=r(840910),n=r(859471);r(669897);var s=r(950794),l=r(186122),i=r(812718),c=r(365506),d=r(816858),u=r(370714),h=r(467780),_=r(715029),p=r(628338),g=r(562615);let m=(void 0!==a||(a=r(421665)).hash&&"8d95294efe15498023c69669c6a41e71"!==a.hash&&console.error("The definition of 'SendBoardButton_board' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),a);function f({boardKey:e,color:t,handleCreatePincode:r,iconColor:a,hasBoardToolStyles:f,hasShadow:b,showTooltip:y,size:w="lg"}){(0,n.useEffect)(()=>{(0,o.A)("SendBoardButton","/app/www/save/board/Headers/BoardHeader/SendBoardButton.tsx")},[]);let{logContextEvent:v}=(0,l.o)(),A=(0,u.A)(),x=(0,i.A)(),{userAgent:{platform:S}}=(0,h._8)(),P="android"===S,z=(0,n.useRef)(null),j=(0,d.A)(m,e),[C,k]=(0,n.useState)(!1),E=C?void 0:t,I=C?{__style:{backgroundColor:"#e2e2e2"}}:void 0;return(0,g.jsxs)(n.Fragment,{children:[(0,g.jsx)(_.A,{boardKey:j,iconColor:a,onCreatePincode:r,onOpen:()=>{x?x():(0,p.A)(v)},sendBoardButtonRef:z,showTooltip:y,size:w,children:f?({active:e,onClick:t})=>(0,g.jsx)(s.Rp,{dataTestId:"share-board-button",onTap:t,rounding:500,children:(0,g.jsxs)(s.az,{alignItems:"center",color:e?"selected":E,dangerouslySetInlineStyle:I,display:"flex",elevation:b?"shadowFloating":void 0,height:64,justifyContent:"center",onMouseEnter:()=>k(!0),onMouseLeave:()=>k(!1),paddingX:4,rounding:500,children:[(0,g.jsx)(s.az,{marginEnd:2,children:(0,g.jsx)(s.In,{accessibilityLabel:A._('Share', 'Board.ShareButton', 'Accessible label for button to share a board'),color:e?"light":"default",icon:P?"share-android":"share",size:20})}),(0,g.jsx)(s.Wu,{color:e?"inverse":"default",children:A._('Share', 'Board.ShareButton', 'Label for button to share a board')})]})}):void 0}),(0,g.jsx)(c.X$,{anchors:{3018:z.current},idealDirection:"down",onAnchorTouch:"complete",placementId:18,scrollToDismiss:!0})]})}},628338(e,t,r){r.d(t,{A:()=>a});function a(e){e({event_type:101,element:10778,component:13216,view_type:5,view_parameter:3069})}},499202(e,t,r){r.d(t,{A:()=>d});var a=r(106386),o=r(581296),n=r(867076),s=r(956804),l=r(71897),i=r(175795),c=r(204597);function d(){let e=(0,a.wA)(),t=(0,a.d4)(e=>e.resources);return async function({boardCreateOptions:r,deprecatedSchemaForNormalization:a}){let d=await n.A.create("BoardResource",r).callCreate(),u=d.resource_response.data,h=a?(0,o.S8)(u,a):void 0;e((0,c.md)("BoardResource",r,d,h)),e((0,s.$O)({event_type:20})),u.owner?.id&&e((0,i.Ow)("UserResource",{options:{user_id:u.owner.id,field_set_key:"save_behavior"}}));let _=t.BoardsResource||{},p=t.BoardsFeedResource||{};return Object.keys(_).forEach(t=>{(0,l.J)(t).username===u.owner?.username&&e((0,c.Q5)("BoardsResource",t))}),Object.keys(p).forEach(t=>{(0,l.J)(t).username===u.owner?.username&&e((0,c.Q5)("BoardsFeedResource",t))}),u}}},259020(e,t,r){r.d(t,{A:()=>s,p:()=>n});var a=r(859471);let o=(0,a.createContext)();function n(){return(0,a.use)(o)}let s=o},639410(e,t,r){r.d(t,{A:()=>o});var a=r(979638);function o(){let e=(0,a.g)(),t=(0,a.zy)(),r=Object.entries(e).reduce((e,[t,r])=>(r&&(e[r]=t),e),{});return t.pathname.split("/").map(e=>r[e]?`:${r[e]}`:e).join("/")}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/49353-b8b3290b83d2fa44.mjs.map