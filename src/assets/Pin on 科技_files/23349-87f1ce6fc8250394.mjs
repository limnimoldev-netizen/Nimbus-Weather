(self.modernJsonp=self.modernJsonp||[]).push([["23349"],{763041(e,t,r){r.d(t,{A:()=>d});var n,i,a=r(315075),o=r(542637),l=0,s=0;let d=function(e,t,r){var d=t&&r||0,u=t||Array(16),c=(e=e||{}).node||n,p=void 0!==e.clockseq?e.clockseq:i;if(null==c||null==p){var _=e.random||(e.rng||a.A)();null==c&&(c=n=[1|_[0],_[1],_[2],_[3],_[4],_[5]]),null==p&&(p=i=(_[6]<<8|_[7])&16383)}var A=void 0!==e.msecs?e.msecs:Date.now(),m=void 0!==e.nsecs?e.nsecs:s+1,f=A-l+(m-s)/1e4;if(f<0&&void 0===e.clockseq&&(p=p+1&16383),(f<0||A>l)&&void 0===e.nsecs&&(m=0),m>=1e4)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");l=A,s=m,i=p;var h=((0xfffffff&(A+=122192928e5))*1e4+m)%0x100000000;u[d++]=h>>>24&255,u[d++]=h>>>16&255,u[d++]=h>>>8&255,u[d++]=255&h;var E=A/0x100000000*1e4&0xfffffff;u[d++]=E>>>8&255,u[d++]=255&E,u[d++]=E>>>24&15|16,u[d++]=E>>>16&255,u[d++]=p>>>8|128,u[d++]=255&p;for(var g=0;g<6;++g)u[d+g]=c[g];return t||(0,o.A)(u)}},776748(e,t,r){r.r(t),r.d(t,{default:()=>i});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useHyperlinkExperiment_pin",selections:[{alias:null,args:null,concreteType:"TextTag",kind:"LinkedField",name:"descriptionLinks",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};n.hash="bdd5959de70eab688d40f2293a76638c";let i=n},952980(e,t,r){r.d(t,{A:()=>i});var n=r(180881);function i(){return(0,n.y)()}},758576(e,t,r){r.d(t,{A:()=>n});let n=({inNux:e,inNewsHub:t,staticFeed:r,viewerIsPartner:n})=>({field_set_key:n?"hf_grid_partner":"hf_grid",in_nux:e,in_news_hub:t,static_feed:r})},591559(e,t,r){r.d(t,{A:()=>d}),r(825193);var n,i=r(816858),a=r(805454),o=r(467780),l=r(991224);let s=(void 0!==n||(n=r(776748)).hash&&"bdd5959de70eab688d40f2293a76638c"!==n.hash&&console.error("The definition of 'useHyperlinkExperiment_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n);function d(e,t=!1){let r=(0,i.A)(s,e),n=!!(r?.descriptionLinks&&r.descriptionLinks.length>0),u=t||!n,{isAuthenticated:c}=(0,o._8)(),p=(0,l.qJ)(),_=(0,l.M)(),{checkExperiment:A}=(0,a.A)(),m=c&&p&&A("dweb_closeup_hyperlink_keywords",{dangerouslySkipActivation:u}).anyEnabled,f=c&&_&&A("mweb_closeup_hyperlink_keywords_auth",{dangerouslySkipActivation:u}).anyEnabled;return{hyperlinkKeywordsEnabled:m||f}}},350762(e,t,r){r.d(t,{A:()=>i,_:()=>n});let n=e=>e.replace(/\s+/g,"-"),i={AMP_TRACKING_DOMAIN:"amp.pinterest.com",BoardPrivacy:{SECRET:"secret",PUBLIC:"public",PROTECTED:"protected"},BoardType:{PROTECTED:"protected"},BulkAction:{MOVE:"bulkMove",COPY:"bulkCopy",CREATE_SECTION:"bulkCreateSection",DELETE:"bulkDelete"},MAX_CHARS_FOR_BOARD_PIN_DESCRIPTION:500,MAX_CHARS_FOR_BOARD_TITLE:50,MAX_CHARS_FOR_FIRST_NAME:30,MAX_FETCH_NUM_FOLLOWERS_PER_PAGE:50,VIDEO_IFRAME_ID:"video-iframe"}},101370(e,t,r){r.d(t,{A:()=>a});var n=r(379599),i=r(425347);function a(e,t,r,a,o){let l=new URLSearchParams,s=t.reduce((e,t)=>{if(null!=t){let r=function(e){let t;try{t=decodeURIComponent(e)}catch(r){t=e}t.startsWith("http")?t.startsWith("http://")&&(t=t.replace("http://","https://")):t="https://"+t;try{return new URL(t).origin}catch(n){let r=t.match(/^(https?:\/\/[^\/]+)(\/|$)/);if(r&&r.length>1)return r[1];return e}}(t);return e.add(r)}return e},new Set);l.append(n.YH.SOURCE_EVENT_ID,e??"0"),l.append(n.YH.DESTINATION,JSON.stringify([...s])),l.append(n.YH.EXPIRY,r?"604800":"86400"),l.append(n.YH.PRIORITY,r?n.YH.CLICK_PRIORITY:n.YH.VIEW_PRIORITY),o&&l.append(n.YH.ADVERTISER_ID,o),a&&l.append(n.YH.CAMPAIGN_ID,a),l.append(n.YH.SOURCE_EVENT_TYPE,r?"click":"view");try{let{hostname:e}=new URL(window.location.href);"www.pinterest.com"!==e&&l.append(n.YH.HOSTNAME,e)}catch(e){(0,i.GV)("webapp.arapi.generateARASourceEventURL",{sampleRate:.1,tags:{status:"failed",href:window&&window.location&&window.location.href}})}return"https://www.pinterest.com/attribution_source/?"+l.toString()}},594686(e,t,r){r.d(t,{H8:()=>o,Ss:()=>n,UP:()=>s,gm:()=>l,lT:()=>d,lh:()=>i,nr:()=>a});let n=Object.freeze({OTHER:0,CHROME:1,SAFARI:2,IE:3,FIREFOX:4,OPERA:5,EDGE:6}),i=e=>e?e.includes("Chrome")?n.CHROME:e.includes("Safari")?n.SAFARI:e.includes("Firefox")?n.FIREFOX:e.includes("Opera")?n.OPERA:e.includes("IE")?n.IE:e.includes("Edge")?n.EDGE:n.OTHER:n.OTHER;function a(e){return i(e)===n.SAFARI}function o(e){return i(e)===n.CHROME}function l(e){return i(e)===n.FIREFOX}function s(e){return i(e)===n.EDGE}function d(e){return i(e)===n.IE}},219233(e,t,r){r.d(t,{Bh:()=>o,Bw:()=>n,Mm:()=>i,R2:()=>l,rQ:()=>a});let n=e=>e._('You\'re almost there! Log in to access all of Pinterest', 'loginModal.limitedLogin.subheader', 'Subheader text on personalized login modal/flyout to remind users to log in'),i=e=>e._('Log in to save this Pin', 'limitedLogin.modalHeader.repin', 'Title on mobile web limited login modal to prompt users to login after they clicked save button.'),a=e=>e._('Log in to edit this Pin', 'limitedLogin.modalHeader.editPin', 'Title on mobile web limited login modal to prompt users to login after they clicked edit button.'),o=({i18n:e,toFollow:t})=>t?e._('Log in to follow', 'limitedLogin.modalHeader.follow', 'Title on mobile web limited login modal to prompt users to login to follow a user or board.'):e._('Log in to unfollow', 'limitedLogin.modalHeader.unfollow', 'Title on mobile web limited login modal to prompt users to login to unfollow a user or board.'),l=e=>e._('Log in to create a Pin or board', 'limitedLogin.modalHeader.create', 'Title on mobile web limited login modal to prompt users to login to create a Pin or board.')},547154(e,t,r){r.d(t,{C:()=>o,e:()=>a});var n=r(859471);let i=(0,n.createContext)(null),a=i,o=()=>(0,n.use)(i)},812718(e,t,r){r.d(t,{A:()=>o});var n=r(219233),i=r(370714),a=r(41927);let o=()=>{let{loginForMore:e,viewer:t,limitedLoginModalSubheader:r}=(0,a.x)(),o=(0,i.A)();return"AUTH"===t.type?null:t=>{e?.setVisible(!0),r?.setText(t?.loginModalHeader||(0,n.Bw)(o))}}},142071(e,t,r){r.d(t,{A:()=>o});var n=r(216096),i=r(60764),a=r(391309);function o(e,t){let r=Math.round(1e3*Math.random())+"",o=Math.round(1e3*Math.random())+"";i.hZ((0,n.lH)(r),o);let l={token:`${r}-${o}`,url:e,...t&&!t.params?t.queryParams:t?.params&&{pin:t.params.pinId??void 0,isThirdPartyAd:t.params.isThirdPartyAd??void 0,csr:t.params.csrId&&!t.params.pinId?t.params.csrId:void 0,client_tracking_params:t.params.clientTrackingParams,aux_data:t.params.auxData?JSON.stringify(t.params.auxData):void 0}};return`/offsite/?${(0,a.A)(l)}`}},673599(e,t,r){r.d(t,{A:()=>o});var n=r(559463),i=r(71897),a=r(263918);let o=async({clientTrackingParams:e,href:t,pinId:r,spamCheckCallback:o})=>{let l=await function({url:e,urlParams:t,method:r,data:o,ignoreBookmark:l,callOptions:s,headers:d}){let u=e;return t&&Object.entries(t).forEach(([e,t])=>{let r=`{${e}}`;u.includes(r)&&(u=u.replaceAll(r,encodeURIComponent(String(t))))}),function(e){let t=(0,i.A)(e),r=a.$K.get("ApiResource",t);if(r)return r;let o=(0,n.A)(e);return a.$K.add("ApiResource",t,o),o}({url:u,method:r,data:o,ignoreBookmark:l,callOptions:s,headers:d})}({url:"/v3/offsite/",data:{check_only:!0,client_tracking_params:e??void 0,pin_id:r,url:t}});if(!l.resource_response.error){let{message:e,redirect_status:t,url:r}=l.resource_response.data||{};o({blocked:["blocked","suspicious","porn"].includes(t??""),message:e??"",redirectStatus:t??"",sanitized_url:r??""})}}},435844(e,t,r){r.d(t,{A:()=>n});function n({isOffsiteUrl:e,event:t}){return!e&&(t.metaKey||t.ctrlKey)}},951786(e,t,r){r.d(t,{A:()=>s});var n=r(754927),i=r(580688),a=r(481074),o=r(780576),l=r(728348);let s=({event:e,onHistoryChange:t,href:r,location:s,navigate:d,target:u})=>{let c=(0,i.A)(r),p=("string"!=typeof r&&r?r.state:null)??{},_=(0,a.A)(c);_===l.A.TRUSTED_DIFFERENT_ORIGIN||"blank"===u?(0,n.A)(c,"blank"===u):d&&_===l.A.SAME_ORIGIN&&(d((0,o.A)({url:c}),{state:{from:s,...p}}),t&&t({event:e}))}},769294(e,t,r){r.d(t,{A:()=>a});var n=r(754927),i=r(142071);function a(e,t){(0,n.A)((0,i.A)(e,t),!0,t?.features)}},233830(e,t,r){r.d(t,{A:()=>i});var n=r(65197);function i({location:e,pinId:t,surface:r}){return!!r&&!n.Wv.includes(r)||e.pathname.includes(t)}},18221(e,t,r){r.d(t,{A:()=>m});var n=r(859471),i=r(979638),a=r(591559),o=r(673599),l=r(435844),s=r(951786),d=r(233830),u=r(599850),c=r(580688),p=r(954408),_=r(9295),A=r(425347);function m(e){let{clientTrackingParams:t,externalData:r,href:m,onHistoryChange:f,target:h}=e,[E,g]=(0,n.useState)(null),b=(0,i.Zp)(),v=(0,i.zy)(),I=(0,c.A)(m),y=(0,p.A)({url:I}),{showWarning:w}=(0,_.F)()??{},{pin:T,surface:R}=r||{},{hyperlinkKeywordsEnabled:S}=(0,a.A)(null,!0),P=t||T?.trackingParams,O=(0,u.A)();return(0,n.useEffect)(()=>{y&&T&&null===E&&(!T.promoter||T.isDownstreamPromotion)&&(0,d.A)({location:v,pinId:T.entityId,surface:R})&&(0,o.A)({clientTrackingParams:P,pinId:T.entityId,spamCheckCallback:e=>g(e),href:I})},[P,T,R,I,y,v,E]),({event:e})=>{if(!(0,l.A)({isOffsiteUrl:y,event:e})){if(S&&"string"==typeof m&&m.startsWith("pinterest://")){let t=m.replace(/^pinterest:\/\//,"/");(0,s.A)({event:e,href:t,location:v,navigate:b,onHistoryChange:f,target:"blank"===h?"blank":null});return}if(e.preventDefault(),!m||"string"==typeof m&&m.startsWith("#"))return void(0,A.GV)("link_navigation_empty_href",{sampleRate:1,tags:{route:v.pathname,href:m}});y||r?.dangerouslyForceOffsiteUrl?O({auxData:r?.auxData,clientTrackingParams:P,pin:r?.pin&&{attributionSourceId:r.pin.attributionSourceId,campaignId:r.pin.campaignId,isPromoted:r.pin.isPromoted,pinPromotionId:r.pin.pinPromotionId,isThirdPartyAd:r.pin.isThirdPartyAd,advertiserId:r.pin.advertiserId,destinationUrl:r.pin.destinationUrl,link:r.pin.link,domain:r.pin.domain},pinId:r?.pin?.entityId,queryParams:r?.queryParams,showWarning:w,spamCheck:E,url:I}):(0,s.A)({event:e,href:m,location:v,navigate:b,onHistoryChange:f,target:"blank"===h?"blank":null})}}}},599850(e,t,r){r.d(t,{A:()=>p});var n=r(952980),i=r(379599),a=r(101370),o=r(594686),l=r(754927),s=r(186122),d=r(142071),u=r(769294),c=r(706430);let p=e=>{let t=(()=>{let{logContextEvent:e}=(0,s.o)();return({attributionSourceId:t,auxData:r,campaignId:l,clientTrackingParams:s,href:u,isPromoted:c,pinId:p,pinPromotionId:_,isThirdPartyAd:A,advertiserId:m,destinationUrl:f,link:h,domain:E})=>{var g,b;if(!c)return!1;let v=(0,n.A)(),I={params:{pinId:p,csrId:null,clientTrackingParams:s,auxData:r,isThirdPartyAd:A}},y=(0,d.A)(u,I);v?.experimentsClient.checkExperiment("web_ad_destination_url").anyEnabled&&c&&u===f&&(fetch((0,d.A)(f,I),{redirect:"manual"}),y=f);let w=v?.userAgent.browserName??"",T=v?.experimentsClient.checkExperiment("aid_exp_ara_shutdown_source_registration").anyEnabled;if((0,o.nr)(w)){let r=v?.userAgent.browserVersion?v.userAgent.browserVersion:"0.0",n=parseFloat(r.split(".")[0]+"."+r.split(".")[1]);if(t&&n>=14.1){let r;return g=y,(r=document.createElement("a")).setAttribute("href",g),r.setAttribute("target","_blank"),r.setAttribute("rel","noopener nofollow noreferrer"),r.style.cursor="pointer",r.style.display="block",r.setAttribute(i.Yv.ATTRIBUTION_SOURCE_ID,t),r.setAttribute(i.Yv.ATTRIBUTE_DESTINATION,u),r.setAttribute(i.Yv.ATTRIBUTE_ON,u),r.click(),e({event_type:101,clientTrackingParams:s,object_id_str:p||"",aux_data:{pin_id:p||"",click_measurement_ppid:_||"",click_measurement_campaign_id:l||"",is_pcm:!0,attribution_source_id:t,page_url:u}}),!0}}else if((0,o.H8)(w)&&!T&&window.document.featurePolicy?.allowsFeature("attribution-reporting")){let r,n;return b=y,r=(0,a.A)(t,[f,h,E],!0,l,m),(n=document.createElement("a")).setAttribute("href",b),n.setAttribute("target","_blank"),n.setAttribute("rel","noopener nofollow noreferrer"),n.style.cursor="pointer",n.style.display="block",n.setAttribute(i.YH.SOURCE,r),n.click(),e({event_type:101,clientTrackingParams:s,object_id_str:p||"",aux_data:{pin_id:p||"",click_measurement_ppid:_||"",click_measurement_campaign_id:l||"",is_arapi:!0,attribution_source_id:t,page_url:u}}),!0}return!1}})();return({auxData:r,clientTrackingParams:i,pin:a,pinId:o,queryParams:s,showWarning:p,spamCheck:_,url:A})=>{if("u">typeof window&&window.Windows)return void(0,c.A)(A,{clientTrackingParams:i,pinId:o,hasPin:!!a,auxData:r,isThirdPartyAd:a?.isThirdPartyAd});if(!a&&!e?.isFromClickthroughLink)return void(0,u.A)(A,s?{queryParams:s}:{params:{pinId:o}});if(_?.blocked)return void p?.(_);if(a&&t({attributionSourceId:a.attributionSourceId,auxData:r,campaignId:a.campaignId?String(a.campaignId):null,clientTrackingParams:i,href:A,isPromoted:a.isPromoted,pinId:o,pinPromotionId:a.pinPromotionId?String(a.pinPromotionId):null,isThirdPartyAd:a.isThirdPartyAd,advertiserId:a.advertiserId?a.advertiserId:null,destinationUrl:a.destinationUrl,link:a.link,domain:a.domain}))return;let m={params:{clientTrackingParams:i,auxData:r,pinId:o,isThirdPartyAd:a?.isThirdPartyAd}},f=(0,n.A)();if(f?.experimentsClient.checkExperiment("web_ad_destination_url").anyEnabled&&a?.isPromoted&&A===a?.destinationUrl){fetch((0,d.A)(A,m),{redirect:"manual"}),(0,l.A)(A,!0);return}(0,u.A)(A,m)}}},739790(e,t,r){r.d(t,{A:()=>i});var n=r(425347);function i(e,t){return new Promise((r,i)=>{if(document.querySelector(`script[src="${e}"]`)){let e=0;if("FACEBOOK"===t)if(window.FB)r();else{let t=setInterval(()=>{window.FB||20===e?(clearInterval(t),r()):(e+=1,(0,n.GV)(`mweb.loadScript.facebook.tries_${e}`,{sampleRate:.01}))},100)}else if("GSI"===t)if(window.google)r();else{let t=setInterval(()=>{window.google||20===e?(clearInterval(t),r()):(e+=1,(0,n.GV)(`mweb.loadScript.gsi.tries_${e}`,{sampleRate:.01}))},100)}else r()}else{let t=document.createElement("script");t.src=e,t.async=!0,t.addEventListener("load",()=>r()),t.addEventListener("error",i),document.getElementsByTagName("head")[0].appendChild(t)}})}},28019(e,t,r){r.d(t,{A:()=>function e(t,r,n=()=>void 0){let i=n(t,r);return void 0!==i?i:void 0===r?t:Array.isArray(t)&&Array.isArray(r)?r.reduce((t,i,a)=>(t[a]=e(t[a],r[a],n),t),[...t]):t&&"object"==typeof t&&r&&"object"==typeof r?Object.keys(r).reduce((t,i)=>(t[i]=e(t[i],r[i],n),t),{...t}):r}})},283988(e,t,r){r.d(t,{P:()=>n});let n="favorited"},854041(e,t,r){r.d(t,{A:()=>n});let n=e=>{switch(e){case"BR":case"MX":case"AR":case"CL":case"CO":return"LatAm";case"US":return"US";default:return"OTHER"}}},88896(e,t,r){r.d(t,{A:()=>n});function n(e){let t;if(!e)return null;let r=e?.url;return Array.isArray(e?.params)?t=e?.params:Object.entries(t={...e?.params??{}}).forEach(([e,n])=>{r?.includes(`{${e}}`)&&(r=r?.replaceAll(`{${e}}`,String(n)),delete t[e])}),{name:"ApiResource",options:{url:r,data:t,...e?.method==="POST"?{postInsteadOfGet:!0}:{}},enabledRouteRefresh:e?.enabledRouteRefresh,headers:e?.headers,noCache:e?.noCache,schema:e?.schema}}},661494(e,t,r){r.d(t,{A:()=>a});var n=r(88896),i=r(799632);function a(e){return(0,i.A)((0,n.A)(e))}},156547(e,t,r){r.d(t,{A:()=>a});var n=r(332619),i=r(558584);function a(e){let{enabledRouteRefresh:t,headers:r,name:a,noCache:o,options:l,schema:s}=e??{name:n.W,options:null},d=!e,{fetchResource:u,ref:c,fetchMore:p,isFetching:_,isLoaded:A,isRefreshing:m,refresh:f}=(0,i.A)({enabledRouteRefresh:t,headers:r,name:a,noCache:o,options:l,schema:s},d,!1);return d||u(),{ref:c,fetchMore:p,isFetching:_,isLoaded:A,isRefreshing:m,refresh:f}}},868141(e,t,r){r.d(t,{E:()=>a,Y:()=>o});var n=r(859471);let i=(0,n.createContext)(null),a=()=>(0,n.use)(i),o=i},347287(e,t,r){r.d(t,{A:()=>n});function n(e,t=80,r="â€¦",i=!1){let a;if(!e)return"";if(e.length<=t)return e;if(" "!==e[t-1]&&" "===e[t]||i)a=e.substring(0,t);else{let r=e.lastIndexOf(" ",t);a=e.substring(0,r)}return(a=a.replace(/[\- _,.<>:;+=*&@~\/\|!]*$/,""))+r}},98681(e,t,r){r.d(t,{A:()=>l,w:()=>o});var n=r(679902),i=r(763041);function a(e,t,r){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}let o="u">typeof window&&window.performance&&window.performance.now?()=>Math.floor((window.performance.timeOrigin+window.performance.now())*1e6):()=>1e6*Date.now(),l=class{constructor(e){a(this,"start",()=>(this.startTime=o(),this.startTime)),a(this,"end",()=>(this.endTime=o(),this.duration=this.startTime?this.endTime-this.startTime:null,this.duration));try{this.uuid=(0,n.A)()}catch(e){this.uuid=(0,i.A)()}e&&Object.assign(this,e)}}},822164(e,t,r){r.d(t,{A:()=>s});var n=r(859471),i=r(979638),a=r(424054),o=r(301248),l=r(3210);function s(){let e=(0,i.zy)();return(0,n.useCallback)(({action:t,item:r,within:n,tags:i={}})=>{let s=(0,a.dM)(e)?"pin":(0,a.iK)(e)?"board":(0,a.BG)(e)?"login":(0,a.fF)(e)?"home":(0,o.A)(e)?"profile":(0,a.Jw)(e)?"ideas":(0,a.nV)(e)?"ideas-root":(0,a.os)(e)?"videos":(0,a._N)(e)?"videos-category":(0,a.L0)(e)?"article":(0,a.GA)(e)?"shopping-spotlight":(0,a.H9)(e)?"today":(0,a.uD)(e)?"unauth-profile":(0,a.a$)(e)?"shopping-root":(0,a.kU)(e)?"shopping-category":"other";(0,l.PM)(`logged_out_product.interaction.${s}.${t}`,{item:r||"none",within:n||"none",...i})},[e])}},580688(e,t,r){r.d(t,{A:()=>n});let n=e=>e?"string"==typeof e?e:e.pathname?e.pathname:"":""},780576(e,t,r){r.d(t,{A:()=>i});var n=r(81270);let i=({url:e})=>{let t=(0,n.A)("/");return 0===e.lastIndexOf(t,0)?e.substr(t.length-1):e}},19991(e,t,r){r.d(t,{A:()=>l});var n=r(859471);let i=()=>()=>{},a=()=>!1,o=()=>!0,l=()=>(0,n.useSyncExternalStore)(i,a,o)},215122(e,t,r){r.d(t,{e:()=>u,y:()=>d});var n=r(859471),i=r(186122),a=r(4513),o=r(805454),l=r(562615);let{Provider:s,get:d}=(0,a.A)("VideoPlayer");function u({children:e}){let{logContextEvent:t,logImpression:r}=(0,i.o)(),{checkExperiment:a}=(0,o.A)(),[d,u]=(0,n.useState)(!1),[c,p]=(0,n.useState)([]),[_,A]=(0,n.useState)([]),[m,f]=(0,n.useState)({}),h=a("web_ads_mrc_video_impression").anyEnabled,E=e=>{f(t=>({...t,[e]:!0}))},g=(0,n.useCallback)(e=>{if(18===e.event_type&&e.event_data?.pinImpressions?.length){let{isNativeVideoAndWatchable:t}=e.event_data.pinImpressions[0],r=JSON.stringify(e.aux_data?.commerce_data||"").includes("story_pin_id");h&&(t||r)&&p(t=>[...t,e].slice(-1e3))}},[h]),b=(0,n.useCallback)(e=>{18===e.eventType&&h&&A(t=>[...t,e].slice(-1e3))},[h]);(0,n.useEffect)(()=>{let e=c.filter(e=>{let{pinIdStr:r}=e.event_data.pinImpressions[0];return!m[r]||!h||(t((e=>{let{time:t}=e.event_data.pinImpressions[0];return{...e,event_data:{...e.event_data,pinImpressions:[{...e.event_data.pinImpressions[0],isMrcBtr:!0,endTime:t,renderDuration:0}]}}})(e)),!1)});e.length!==c.length&&p(e)},[c,h,t,m]),(0,n.useEffect)(()=>{let e=_.filter(e=>{let t=e.eventData?.pinIdStr;if(!t)return!1;if(m[t]&&h){let t=(e=>{if(e.eventData){let{time:t}=e.eventData;return{...e,eventData:{...e.eventData,isMrcBtr:!0,endTime:t??0}}}return null})(e);return t&&r(t),!1}return!0});e.length!==_.length&&A(e)},[_,h,r,m]);let v=(0,n.useMemo)(()=>({captionsEnabled:d,logMrcVideoAdImpressionOnPlay:b,logMrcVideoAdEventOnPlay:g,setCaptionsEnabled:u,setVideoPlayed:E,videosPlayed:m}),[d,g,b,m]);return(0,l.jsx)(s,{value:v,children:e})}},817534(e,t,r){r.d(t,{G:()=>n,o:()=>i});let n=Object.freeze({DEFAULT:0,LOAD_START:1,LOADED_METADATA:2,LOADED_DATA:3,PLAYING:4,PAUSED:5,SEEKING:6,STALLING:7,FAILED:8,ENDED:9}),i=Object.freeze({MEDIA_ERR_ABORTED:1,MEDIA_ERR_NETWORK:2,MEDIA_ERR_DECODE:3,MEDIA_ERR_SRC_NOT_SUPPORTED:4})},706430(e,t,r){r.d(t,{A:()=>a});var n=r(752411),i=r(769294);function a(e,t){let{auxData:r,clientTrackingParams:a,hasPin:o,pinId:l,isThirdPartyAd:s}=t||{},d={pin_id:l||void 0,check_only:!0,client_tracking_params:o&&a||void 0,url:e,aux_data:JSON.stringify(r)};s&&(d.third_party_ad=l||void 0,delete d.pin_id),(0,n.A)({url:"/v3/offsite/",data:d}).then(t=>{if(t&&t.resource_response&&!t.resource_response.error){let{resource_response:e}=t,{redirect_status:r,url:n}=e.data;if(!["blocked","suspicious","porn"].includes(r||"")){if(window.Windows.Foundation&&window.Windows.System&&window.Windows.System.Launcher&&window.Windows.System.Launcher.launchUriAsync){let e=new window.Windows.Foundation.Uri(n||"");window.Windows.System.Launcher.launchUriAsync(e)}return}}(0,i.A)(e,{params:o?{pinId:l,clientTrackingParams:a,auxData:r,isThirdPartyAd:s}:{pinId:l}})})}},649091(e,t,r){r.d(t,{C1:()=>l,kb:()=>s,zP:()=>d});var n=r(859471),i=r(4513),a=r(562615);let{Provider:o,get:l,getMaybe:s}=(0,i.A)("MostRecentPin");function d({children:e}){let[t,r]=(0,n.useState)(),[i,l]=(0,n.useState)(),[s,d]=(0,n.useState)(),[u,c]=(0,n.useState)(),p=(0,n.useCallback)(e=>{l([e].concat((i?i.slice(0,10):[]).filter(t=>t!==e)))},[i]),_=(0,n.useMemo)(()=>({id:t,plpImageSignatures:i,currentlyViewingPinId:s,lastVisitedPinId:u,setMostRecentPinId:r,setMostRecentPinImage:p,setCurrentlyViewingPinId:d,setLastVisitedPinId:c}),[t,i,s,u,p]);return(0,a.jsx)(o,{value:_,children:e})}},171107(e,t,r){r.d(t,{N:()=>o,z:()=>l});var n=r(859471),i=r(562615);let a=(0,n.createContext)({getPinFeedbackStatus:()=>void 0,setPinFeedbackStatus:()=>{}}),o=()=>(0,n.use)(a);function l({children:e}){let[t,r]=(0,n.useState)(Object.freeze({})),o=(0,n.useMemo)(()=>({getPinFeedbackStatus:({pinId:e})=>t[e],setPinFeedbackStatus:({pinId:e,pinFeedbackStatus:n})=>r({...t,[e]:n})}),[t]);return(0,i.jsx)(a,{value:o,children:e})}},9295(e,t,r){r.d(t,{F:()=>i,K:()=>n});let{Provider:n,getMaybe:i}=(0,r(4513).A)("SpammyClickthrough")},662675(e,t,r){r.d(t,{A:()=>a,B:()=>n});let{Provider:n,get:i}=(0,r(4513).A)("VerticalNav",{width:0,sideBarWidth:0,selectedNav:void 0,isPanelOpen:()=>!1,sideBarOpen:!1,updatePanelState:()=>{},togglePanelState:()=>{},isBoardCreateModalOpen:!1,setIsBoardCreateModalOpen:()=>{},handleSideBarLinkClick:()=>{}}),a=i},29739(e,t,r){r.d(t,{A:()=>i});var n=r(662675);function i(){let{width:e}=(0,n.A)();return e}},996419(e,t,r){r.d(t,{A:()=>o});var n=r(805454),i=r(467780),a=r(991224);let o=({skipExpActivation:e=!1})=>{let{checkExperiment:t}=(0,n.A)(),r=(0,a.qJ)(),{isBot:o,isAuthenticated:l}=(0,i._8)();return!l&&!!r&&r&&!o&&t("unauth_dweb_closeup_redesign",{dangerouslySkipActivation:e}).anyEnabled}},41927(e,t,r){r.d(t,{e:()=>n,x:()=>i});let{Provider:n,get:i}=(0,r(4513).A)("LimitedLogin")},807983(e,t,r){r.d(t,{A:()=>n});let n=(e,t,r)=>`${e}:${t||""}:${r||""}`},431957(e,t,r){r.d(t,{A:()=>n});let n={AGGREGATED_COMMENTS:"aggregatedComments",AGGREGATED_COMMENT_REPLIES:"aggregated-comment-replies",AUTOMAGICAL_BOARD_FEED:"automagical-board-feed",BOARDFEED:"boardfeed",BOARDLESS_PINS:"boardless-pins",BOARD_SECTIONS:"board-sections",BOARD_SECTION_PINS:"board-section-pins",STORY_PINS_FEED:"story-pins-feed",PROFILE_PINS_FEED:"profile-pins-feed",PROFILE_BOARDS:"profileBoards",SEARCH_PINS:"searchPins",STORY_PIN_DATA:"storyPinData",TODAY_ARTICLE_INTEREST_FEED:"todayArticleInterestFeed",TODAY_TAB:"todayTabFeed",UNIFIED_COMMENTS:"unified-comments",USE_CASE_TAB:"useCaseFeed",TRIED_IT_FEED:"trieditfeed"}},876808(e,t,r){r.d(t,{AJ:()=>o,Cw:()=>a,gx:()=>l});var n=r(4513),i=r(540179);let{Provider:a,get:o}=(0,n.A)("HandlerId");function l(){let e=o();return(0,i.j9)(e).site}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/23349-87f1ce6fc8250394.mjs.map