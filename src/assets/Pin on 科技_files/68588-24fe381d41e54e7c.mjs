(self.modernJsonp=self.modernJsonp||[]).push([["68588"],{345381(e,t,r){r.d(t,{A:()=>i});var a=r(14503);async function i(e,t){let{api:r}=(0,a.b)(),i=(0,a.u)();try{i.attempt("getMultipleBizEntityProperties",t);let a=new Date().getTime(),n=await r.post("/ads/v4/business_entities",e,!1);return i.success("getMultipleBizEntityProperties",t),i.latency("getMultipleBizEntityProperties",new Date().getTime()-a,t),n}catch(e){throw i.failure("getMultipleBizEntityProperties",t),e}}(0,a.u)()},446097(e,t,r){r.d(t,{A:()=>i});var a=r(14503);async function i(e,t){let{api:r}=(0,a.b)(),i=(0,a.u)();try{i.attempt("setMultipleBizEntityProperties",t);let a=new Date().getTime(),n=await r.patch("/ads/v4/business_entities",e,!1);return i.success("setMultipleBizEntityProperties",t),i.latency("setMultipleBizEntityProperties",new Date().getTime()-a,t),n}catch(e){throw i.failure("setMultipleBizEntityProperties",t),e}}(0,a.u)()},475262(e,t,r){r.d(t,{A:()=>i});var a=r(837855);let i=()=>{let e=(0,a.A)();return!!e.isAuth&&e.isPartner}},800079(e,t,r){r.d(t,{Ic:()=>n,kv:()=>a,ml:()=>i});let a={BUSINESS_ACCOUNT:"BUSINESS_ACCOUNT",BUSINESS_HIERARCHY:"BUSINESS_HIERARCHY",USER_ACCOUNT:"USER",AD_ACCOUNT:"AD_ACCOUNT",PROFILE:"PROFILE",CATALOG:"CATALOG"},i="BUSINESS_PANEL",n="ASSET_PANEL"},301005(e,t,r){r.d(t,{Bw:()=>h,Jz:()=>L,qc:()=>v});var a=r(859471),i=r(979638),n=r(475262),s=r(564843),u=r(837855),l=r(805454),o=r(425347),d=r(106386),c=r(413249),_=r(47220),p=r(810972),A=r(95832);let E=(0,p.createSelector)(A.A,({viewerIsProfileOwnerOrProfileManager:e})=>e??void 0);var m=r(251381),I=r(667576),S=r(211583),g=r(800079),T=r(186122),R=r(4513),N=r(424054),O=r(301248),y=r(132946),P=r(948005),f=r(382476),b=r(562615);let{Provider:C,get:v}=(0,R.A)("AccountSwitcherContext"),h=e=>e.search&&(0,y.A)(e.search).advertiserId,L=({children:e})=>{let t,r,p,A,R,y,v,L,w,U,D=(0,i.zy)(),{userBizId:M,businessHierarchyId:B,advertiserId:V,username:G}=(0,i.g)(),{catalogId:$}=(0,f.A)(),x=h(D),H=(0,u.A)(),{viewerIsProfileOwnerOrProfileManagerData:k,previousIsViewerProfileOwnerOrProfileManager:F}=(t=(0,u.A)(),(r=(0,a.useRef)(t)).current=t,p=(0,d.wA)(),A=(0,m.A)(),(R=(0,a.useRef)(A)).current=A,y=(0,d.d4)(E),v=y?.data||void 0,(L=(0,a.useRef)(v)).current=v,w=(0,c.A)()(),(0,a.useEffect)(()=>{(async()=>{if(r.current.isAuth&&y?.data===void 0&&(!w||R.current.id)){let e=await (0,s.ug)({user_id:r.current.id});if(void 0!==e&&void 0===L.current){let t=(0,I.Nn)(r.current,e?.id??"",R)||r.current.isAuth&&r.current.username===e?.username;p((0,_.A)(!!t))}}})()},[r,L,p,R,y,w]),U=(0,S.EO)(v),{viewerIsProfileOwnerOrProfileManagerData:v,previousIsViewerProfileOwnerOrProfileManager:U}),{checkExperiment:Y}=(0,l.A)(),W=Y("web_m10n_business_access_catalogs").anyEnabled,j=Y("web_m10n_bm_mega_nav_improvements").anyEnabled,[K,z]=(0,a.useState)(""),[J,Q]=(0,a.useState)(null),[q,X]=(0,a.useState)(!1),[Z,ee]=(0,a.useState)(null),et=new URLSearchParams(D.search),[er,ea]=(0,a.useState)(et.has("actingBusinessId")?null:{id:H.isAuth&&H.id||"",name:H.isAuth&&H.fullName||"",img:H.isAuth&&H.imageMediumUrl||""}),[ei,en]=(0,a.useState)(!1),es=(0,n.A)(),{logContextEvent:eu}=(0,T.o)(),{accountSwitcherConfig:el,setConfig:eo}=(()=>{let e=(0,u.A)(),t=(0,n.A)(),{checkExperiment:r}=(0,l.A)(),[i,d]=(0,a.useState)({isReady:!1}),c=(0,a.useCallback)(async({entityId:e,actingBusinessId:a,favorites:i})=>{if(t){let{anyEnabled:t}=r("aid_exp_bes_account_switcher_use_resource");await (0,s.Rb)({entityId:e,actingBusinessId:a,favorites:i,useResource:t}),d(e=>{let t={...e,actingBusinessId:a};return i&&(t.favoriteAdAccounts={favoriteAdAccountsMap:{...e.favoriteAdAccounts?.favoriteAdAccountsMap||{},[i.actingBusinessId]:{advertiserId:i.adAccounts}}}),t})}},[t,r]);return(0,a.useEffect)(()=>{t&&e.isAuth&&!i.isReady&&(async()=>{let t=!1,{anyEnabled:a}=r("aid_exp_bes_account_switcher_use_resource");try{let t=await (0,s.f0)({entityId:e.id,useResource:a});d(e=>({...e,...t}))}catch{t=!0}finally{(0,o.GV)("globalAccountSwitcher.getFavoriteAdAccounts",{sampleRate:1,tags:{businessId:e.id,hasError:t}}),d(e=>({...e,isReady:!0}))}})()},[i.isReady,t,r,e]),{accountSwitcherConfig:i,setConfig:c}})();(0,a.useEffect)(()=>{B?z(B):z("")},[B]);let ed=(0,a.useCallback)(async({id:e,username:t})=>{let r=await (0,s.ug)({user_id:e,username:t});r&&ee({type:e?g.kv.BUSINESS_ACCOUNT:g.kv.PROFILE,id:e||r.id,name:r.full_name,img:r.image_medium_url,username:t,ownerImg:r.image_medium_url,ownerName:r.full_name,actingBusinessFullName:er?.name||r.full_name}),en(!1)},[er]),ec=(0,S.EO)(G);(0,a.useEffect)(()=>{let e=H.isAuth?H.username:void 0;(0,O.A)(D)&&Z&&ec!==G&&G===e&&(ed({username:e}),ea({id:H.isAuth&&H.id||"",name:H.isAuth&&H.fullName||"",img:H.isAuth&&H.imageMediumUrl||""}),Q({type:g.Ic,id:H.isAuth?H.id:void 0}))},[D,ec,ed,Z,G,H]),(0,a.useEffect)(()=>{let e=async({businessId:e,assetId:t})=>{if(!e)return void en(!1);let r=W&&(0,N.St)(D)?"CATALOG":"AD_ACCOUNT";try{let e={asset:{name:""},type:r};if(H.isAuth){let{data:{data:a={[t]:e}}={}}=await (0,P.A)({businessId:er?.id||H.id,assetIds:[t],resourceType:r}),i=a[t]?.asset||e.asset,n=a[t]?.type||e.type,s=a[t]&&"owner"in a[t]?a[t].owner:null;ee({id:t,name:"CATALOG"===r?s?.full_name||"":i.name,img:s?.image_medium_url||"",type:n,ownerImg:s?.image_medium_url,ownerName:s?.full_name||"",actingBusinessFullName:er?.name||s?.full_name||""})}}catch{ee({id:H.isAuth&&H.id||"",name:H.isAuth&&H.fullName||"",img:H.isAuth&&H.imageMediumUrl||"",type:g.kv.BUSINESS_ACCOUNT,ownerImg:H.isAuth&&H.imageMediumUrl||"",ownerName:H.isAuth&&H.fullName||"",actingBusinessFullName:H.isAuth&&H.fullName||""})}en(!1)},t=async({id:e})=>{let t=await (0,s.yw)({hierarchyId:e});ee({id:e,name:t?.data?t.data.name:"",img:t?.data?t.data.img_medium_url:"",type:g.kv.BUSINESS_HIERARCHY,ownerImg:t?.data?t.data.img_medium_url:"",ownerName:t?.data?t.data.name:"",actingBusinessFullName:t?.data?t.data.name:""}),en(!1)};if(H.isAuth&&es){let r=Z&&Z.username&&Z.username!==G,a=!0===k&&k!==F,i=((0,N.d3)(D)||(0,N.Ir)(D)||(0,N.VX)(D)||(0,N._p)(D))&&Z&&er&&Z.type===g.kv.PROFILE&&Z.id===er.id;if((!Z||r||a)&&!ei&&!i&&er){let r=(0,N.Dj)(D)||(0,N.Zm)(D),a=V||!!x&&!r||(0,N.St)(D)&&W;en(!0),B?t({id:B}):M?ed({id:M}):j&&er.id&&!(V||x)?ed({id:er.id}):(0,O.A)(D)&&G&&k?ed({username:G}):a?e({businessId:H.id,assetId:V||x||$||""}):Z&&Z.id===H.id||(ee({type:g.kv.BUSINESS_ACCOUNT,id:H.id||"",name:H.fullName||"",img:H.imageMediumUrl||"",ownerImg:H.imageMediumUrl||"",ownerName:H.fullName||"",actingBusinessFullName:H.fullName||""}),en(!1))}}},[Z,H,B,M,G,V,x,er,es,D,ed,ei,k,F,$,W,j]);let e_=(0,a.useMemo)(()=>({activePanel:J,selectedHierarchyId:K,switcherOpen:q,openAccountSwitcher:()=>{if(eu({event_type:101,view_type:608,component:14346}),!J)if((0,N.Dj)(D))Q({type:g.ml});else{let e=new URLSearchParams(D.search).get("actingBusinessId");Q({type:g.Ic,id:e??er?.id})}X(!0)},closeAccountSwitcher:()=>{Q(Z&&!(0,N.Dj)(D)?{type:g.Ic,id:er?.id}:{type:g.ml}),X(!1)},openAssetPanel:e=>{Q({type:g.Ic,id:e})},closeAssetPanel:()=>{Q(Z&&!(0,N.Dj)(D)?{type:g.Ic,id:er?.id}:{type:g.ml})},activateBusinessPanel:()=>{Q({type:g.ml})},actingBusiness:er,selectedAccount:Z,setSelectedAccount:ee,setActingBusiness:ea,accountSwitcherConfig:el,setConfig:eo}),[J,K,q,er,Z,el,eo,eu,D]);return(0,b.jsx)(C,{value:e_,children:e})}},564843(e,t,r){r.d(t,{Rb:()=>A,Uz:()=>o,f0:()=>p,ug:()=>_,xy:()=>d,yw:()=>c});var a=r(345381),i=r(446097),n=r(867076),s=r(800079),u=r(752411),l=r(124712);let o=e=>({id:e.id,entity_type:s.kv.BUSINESS_ACCOUNT,requires_mfa_for_roles:e.requires_mfa_for_roles,user:{id:e.user.id,entity_type:s.kv.USER_ACCOUNT,username:e.user.username,email:e.user.email,full_name:e.user.full_name,image_small_url:e.user.image_small_url,image_medium_url:e.user.image_medium_url}}),d=e=>({id:e.id,entity_type:s.kv.BUSINESS_ACCOUNT,user:{id:e.id,entity_type:s.kv.USER_ACCOUNT,username:e.username,email:e.email,full_name:e.fullName,image_small_url:e.imageSmallUrl,image_medium_url:e.imageMediumUrl}}),c=async({hierarchyId:e})=>(await (0,u.A)({url:"/ads/v4/business_access/business_hierarchy/{business_hierarchy_lookup_id}",urlParams:{business_hierarchy_lookup_id:e}})).resource_response,_=async({user_id:e,username:t})=>{if(!t&&!e)return null;let{resource_response:{data:r}}=await n.A.create("UserResource",{user_id:e,username:t}).callGet();return r},p=async({entityId:e,useResource:t=!1})=>{let r;if(t){let t=await (0,u.A)({url:"/ads/v4/business_entities",method:"POST",data:[{entity_type:"BIZ_USER",entity_id:e,property_keys:["GLOBAL_ACCOUNT_SWITCHER_CONFIG"]}]}),a=t.resource_response?.data;r=a?.[0]}else r=(await (0,a.A)([{entity_type:"BIZ_USER",entity_id:e,property_keys:["GLOBAL_ACCOUNT_SWITCHER_CONFIG"]}]))[0];return r&&r.properties&&r.properties.GLOBAL_ACCOUNT_SWITCHER_CONFIG||{}},A=async({entityId:e,actingBusinessId:t,favorites:r,useResource:a=!1})=>{let n={};(0,l.g)(t)||(n.actingBusinessId=t),r&&(n.favoriteAdAccounts={favoriteAdAccountsMap:{[r.actingBusinessId]:{advertiserId:r.adAccounts}}}),Object.keys(n).length>0&&(a?await (0,u.A)({url:"/ads/v4/business_entities",method:"PATCH",data:[{entity_type:"BIZ_USER",entity_id:e,properties:{GLOBAL_ACCOUNT_SWITCHER_CONFIG:n}}]}):await (0,i.A)([{entity_type:"BIZ_USER",entity_id:e,properties:{GLOBAL_ACCOUNT_SWITCHER_CONFIG:n}}]))}},748255(e,t,r){r.d(t,{X:()=>a,k:()=>i});let{Provider:a,get:i}=(0,r(4513).A)("legacyServerContext")},524298(e,t,r){r.d(t,{A:()=>_});var a=r(379599),i=r(106910),n=r(425063),s=r(208611);let u={campaignFilter:"all",adGroupFilter:"all",adFilter:"all"},l=e=>{let t={};return e&&(t={objectiveTypes:[e]}),t},o=e=>{let{campaignId:t,objectiveType:r,partialCreate:a,catalogsFeedId:n,managedClientId:s,catalogId:u,productGroupId:l,resumeLastDraft:o,optimizeCampaign:d,productGroupName:c}=e,_={};return t&&a&&(_.campaignId=t),r&&(_.objectiveType=r),"CATALOG_SALES"===r&&n&&(_.catalogsFeedId=n),u&&(_.catalogId=u),l&&(_.productGroupId=l),c&&(_.productGroupName=c),s&&(_.managedClientId=s),o&&(_.resumeLastDraft=!0),void 0!==d&&(_.optimizeCampaign=String(d)),(0,i.A)("/ads/create/",_)},d=e=>{let{campaignToolPreference:t,...r}=e;return(0,i.A)("/automated/ads/create/",r)},c={overview:()=>"/",reporting:e=>{let t=e.objectiveType||null;delete e.objectiveType;let r={...e,...l(t)};return(0,i.A)("/reporting/campaigns/",r)},reportingAdGroup:e=>{let{campaignId:t,objectiveType:r,showAllEntities:a,adGroupId:n,message:s}=e,o={campaignIds:[t],...a?u:{},...l(r),...n?{adGroupIds:[n]}:{},message:s};return(0,i.A)("/reporting/adgroups/",o)},campaign:e=>{let{id:t,objectiveType:r}=e;return(0,i.A)("/reporting/adgroups/",{campaignIds:[t],...l(r)})},editCampaign:e=>e.isAutomatedCampaign?c.editAutomated({campaignId:e.id,view:"campaign"}):c.editV2({campaignId:e.id,view:"campaign"}),adgroup:e=>{let{id:t,objectiveType:r,showAllEntities:a,pinPromotionId:n,campaignId:s}=e;return"TEMPORARY_SHOPPING"===r||"CATALOG_SALES"===r?(0,i.A)("/reporting/productgroups/",{adGroupIds:[t],...l(r)}):(0,i.A)("/reporting/ads/",{adGroupIds:[t],...l(r),...a?u:{},...n?{pinPromotionIds:[n]}:{},...s?{campaignIds:[s]}:{}})},editAdGroup:e=>e.isAutomatedCampaign?c.editAutomated({campaignId:e.id,view:"campaign"}):c.editV2({adGroupId:e.id,view:"adgroup"}),pinPromotion:e=>{let{id:t,adFilter:r}=e;return(0,i.A)("/reporting/ads/",{pinPromotionIds:[t],...r?{adFilter:r}:{}})},editPinPromotion:e=>{let t=e.isCreatingPins?{isCreatingPins:!0}:{},r=e.pinPromotionId?{pinPromotionId:e.pinPromotionId}:{};return c.editV2({adGroupId:e.adGroupId,view:"ad",...r,...t})},productGroup:e=>{let{id:t,name:r}=e;return(0,i.A)("/reporting/productgroups/",{productGroupIds:[t],name:r})},campaigns:()=>"/reporting/campaigns/",adgroups:()=>"/reporting/adgroups/",manage_wtb_products:()=>"/manage_products",ads:()=>"/reporting/ads/",bulkEdit:e=>{let{entity_level:t,ids:r}=e;return(0,i.A)("/ads/bulk_edit/",{entity_level:t,ids:r})},productgroups:()=>"/reporting/productgroups/",productitems:()=>"/reporting/productitems/",campaignNegativeKeywords:()=>"/reporting/campaignNegativeKeywords/",campaignSearchQueries:()=>"/reporting/campaignSearchQueries/",adGroupNegativeKeywords:()=>"/reporting/adGroupNegativeKeywords/",adGroupPositiveKeywords:()=>"/reporting/adGroupPositiveKeywords/",adGroupSearchQueries:()=>"/reporting/adGroupSearchQueries/",ad:e=>c.pinPromotion(e),createPreferred:e=>{switch(e.campaignToolPreference){case s.f.ADS_MANAGER:return o(e);case s.f.AUTOMATED_CAMPAIGN:return d(e);default:return(0,i.A)("/ads/campaign_mode/",e.managedClientId?{managedClientId:e.managedClientId}:void 0)}},campaignMode:e=>(0,i.A)("/ads/campaign_mode/",e.managedClientId?{managedClientId:e.managedClientId}:void 0),create:o,createAutomated:d,editV2:e=>(0,i.A)("/ads/edit/",e),editAutomated:e=>(0,i.A)("/automated/ads/edit/",e),editDraftCampaign:e=>(0,i.A)("/ads/edit_draft/",{campaignId:e.campaignId,view:"campaign"}),duplicateCampaign:e=>(0,i.A)("/ads/duplicate/",e),audiences:e=>(0,i.A)("/audiences/",e.managedClientId?{managedClientId:e.managedClientId}:void 0),audience_debug:()=>"/audience_debug/",billing:e=>{let{page:t,subSection:r,nextStepUrl:n,startDate:s,id:u}=e,l={};switch(r&&(l.section=r),n&&(l.next_step_link_url=n),t){case a.nn.BILLING_HISTORY:return(0,i.A)("/billing/history/",l);case a.nn.BILLING_RECEIPT:return(0,i.A)(`/billing/${u}/`,l);case a.nn.ORDER_LINES:return(0,i.A)("/billing/order_lines/",l);case a.nn.PROMOTIONS:return(0,i.A)("/billing/promotions/",l);case a.nn.DOCUMENTS:return(0,i.A)("/billing/documents/",l);case a.nn.TAX_DOCUMENTS:return(0,i.A)("/billing/tax_documents/",l);case a.nn.PREPAID_SPEND_SUMMARY:return(0,i.A)("/billing/prepaid_campaign_spend_summary/",l);case a.nn.PREPAID_SPEND_BREAKDOWN:return l.start_date=s,(0,i.A)("/billing/prepaid_spend_campaign_breakdown/",l);case a.nn.BILLING_FORMS:return(0,i.A)("/billing/payment_settings/",l);case a.nn.SUMMARY:default:return(0,i.A)("/billing/",l)}},bulk:e=>{let{subSection:t,page:r,jobStarted:n}=e||{};switch(r){case a.Mw.UPLOAD_TEMPLATE:return(0,i.A)("/bulk_editor/upload_template/",{section:t});case a.Mw.DOWNLOAD_TEMPLATE:return(0,i.A)("/bulk_editor/download_template/",{section:t});case a.Mw.HISTORY:return(0,i.A)("/bulk_editor/history/",{section:t,job_started:n});case a.Mw.BULK_ID_LIBRARY:return(0,i.A)("/bulk_editor/bulk_id_library/",{section:t});case a.Mw.RESOURCES:return(0,i.A)("/bulk_editor/resources/",{section:t});default:return"/bulk_editor/"}},experiments:e=>{let{page:t,id:r,campaigns:n}=e;switch(t){case a.sP.CREATE:return"/experiments/create/";case a.sP.MANAGE:return"/experiments/manage/";case a.sP.VIEW_REPORT:return`/experiments/manage/${r}`;case a.sP.AB_TEST_CREATE:return(0,i.A)("/experiments/ab-test/create",n?{campaigns:n}:void 0);default:return"/experiments/"}},history:e=>(0,i.A)("/history/",e),shopping:e=>c.reporting(l("TEMPORARY_SHOPPING")),pinterest_tag:e=>{let{page:t,subSection:r,platform:n,source:s,origin:u}=e;switch(t){case a.J4.PINTEREST_EVENTS_OVERVIEW_BEFORE_SETUP:return"/conversions/events-overview/";case a.J4.PINTEREST_EVENT_HISTORY:if(s)return(0,i.A)("/conversions/event-history/",{source:s});return"/conversions/event-history/";case a.J4.CONVERSION_HEALTH:return"/conversions/health/";case a.J4.PINTEREST_TEST_EVENTS:return(0,i.A)("/conversions/test-events/",{subPage:r,platform:n});case a.J4.PINTEREST_TAG:return(0,i.A)("/conversions/tag/",{subPage:r,platform:n});case a.J4.PINTEREST_TAG_MANUAL_SETUP_FLOW:let l=(0,i.A)("/conversions/tag_manual_setup/",{origin:u});if(n)return(0,i.A)(l,{platform:n,source:s});return l;case a.J4.CONVERSION_UPLOAD:return(0,i.A)("/conversions/upload/",{subPage:r});case a.J4.UPLOAD_HISTORY:return(0,i.A)("/conversions/history/",{subPage:r});case a.J4.PCA_UPLOAD_HISTORY:return(0,i.A)("/conversions/pca_history/",{subPage:r});case a.J4.PCA_UPLOAD:return(0,i.A)("/conversions/pca_upload/",{subPage:r});case a.J4.CONVERSIONS_API_MANUAL_SETUP_FLOW:if(s||u)return(0,i.A)("/conversions/api_manual_setup/",{source:s,origin:u});return"/conversions/api_manual_setup/";case a.J4.CONVERSIONS_API_PARTNER_SETUP_FLOW:if(s||u)return(0,i.A)("/conversions/api_partner_setup/",{source:s,origin:u});return"/conversions/api_partner_setup/";case a.J4.CONVERSIONS_API_ACCESS_TOKEN:return"/conversions/access_token/";case a.J4.PINTEREST_SETUP_API:return"/conversions/setup-api/";case a.J4.CONVERSIONS_API_DEDUPLICATION:return"/conversions/deduplication/";case a.J4.PAYLOAD_HELPER:return"/conversions/payload-helper/";case a.J4.CONVERSIONS:return"/conversions/";case a.J4.NOCODE_CONVERSIONS_API_SETUP_FLOW:return"/conversions/pinterest_capi_connect/";case a.J4.PINTEREST_EVENT_HISTORY_CAPI_TAB:return"/conversions/event-history/#conversionsAPI";case a.J4.PINTEREST_EVENTS_OVERVIEW_CAPI_TAB:return"/conversions/events-overview/#conversionsAPI";default:return"/conversions/tag/"}},"pin-builder":e=>(0,i.A)("/pin-builder/",e),purchases:()=>c.reporting(l("PURCHASE")),awareness_reserved:()=>c.reporting(l("IMPRESSION")),engagement:()=>c.reporting(l("BILLABLE_ENGAGEMENT")),videos:()=>c.reporting(l("TEMPORARY_BIDDED_CPM_VIDEO")),videos_reserved:()=>c.reporting(l("TEMPORARY_IMPRESSION_VIDEO")),videos_cpv:()=>c.reporting(l("TEMPORARY_MRC_CPV_VIDEO")),conversions:()=>c.reporting(l("WEB_CONVERSION")),accounts_manager:()=>"/accounts_manager/",reporting_preferences:e=>(0,i.A)("/reporting/preferences/",e),report_builder:e=>(0,i.A)("/report-center/builder/",e),report_history:e=>(0,i.A)("/report-center/history/",e),report_unsubscribe:e=>(0,i.A)("/report-center/unsubscribe/",e),report_download:e=>(0,i.A)("/report-center/download/",e),awareness:()=>c.reporting(l("AWARENESS")),traffic:()=>c.reporting(l("TRAFFIC")),app_installs:()=>c.reporting(l("APP_INSTALL")),catalog_sales:()=>c.reporting(l("CATALOG_SALES")),web_conversion:()=>c.reporting(l("WEB_CONVERSION")),video_view:()=>c.reporting(l("VIDEO_VIEW")),recommendations:e=>(0,i.A)("/recommendations/",e),catalog_view:()=>"/product-catalogs/data-source",campaign_insights:e=>{let t=`/campaign-insights/${e.campaignId}/`;if(e.queryParams){let{start_date:r,end_date:a,comp_start_date:i,comp_end_date:s}=e.queryParams;t+=`?${(0,n.A)({start_date:r,end_date:a,comp_start_date:i,comp_end_date:s})}`}return t},product_group_reporting:e=>`/campaign-insights/${e.campaignId}/product-group/${e.productGroupId}`,media_planner:e=>(0,i.A)("/media_planner/",e),ad_spend_optimizer:e=>(0,i.A)("/msot-optimizer/",e)},_=c},379599(e,t,r){r.d(t,{J4:()=>s,Mw:()=>a,YH:()=>u,Yv:()=>l,nn:()=>i,sP:()=>n});let a={DOWNLOAD_TEMPLATE:"DOWNLOAD_TEMPLATE",UPLOAD_TEMPLATE:"UPLOAD_TEMPLATE",HISTORY:"HISTORY",BULK_ID_LIBRARY:"BULK_ID_LIBRARY",RESOURCES:"RESOURCES"},i={BILLING_HISTORY:"BILLING_HISTORY",BILLING_RECEIPT:"BILLING_RECEIPT",BILLING_FORMS:"BILLING_FORMS",ORDER_LINES:"ORDER_LINES",PROMOTIONS:"PROMOTIONS",TAX_DOCUMENTS:"TAX_DOCUMENTS",DOCUMENTS:"DOCUMENTS",PREPAID_SPEND_SUMMARY:"PREPAID_SPEND_SUMMARY",PREPAID_SPEND_BREAKDOWN:"PREPAID_SPEND_BREAKDOWN",SUMMARY:"SUMMARY"},n={CREATE:"CREATE",MANAGE:"MANAGE",VIEW_REPORT:"VIEW_REPORT",AB_TEST_CREATE:"AB_TEST_CREATE"},s={PINTEREST_TAG:"PINTEREST_TAG",PINTEREST_TAG_MANUAL_SETUP_FLOW:"PINTEREST_TAG_MANUAL_SETUP_FLOW",PINTEREST_TEST_EVENTS:"PINTEREST_TEST_EVENTS",PINTEREST_TAG_HEALTH:"PINTEREST_TAG_HEALTH",CONVERSION_HEALTH:"CONVERSION_HEALTH",CONVERSION_UPLOAD:"CONVERSION_UPLOAD",UPLOAD_HISTORY:"UPLOAD_HISTORY",PCA_UPLOAD_HISTORY:"PCA_UPLOAD_HISTORY",PCA_UPLOAD:"PCA_UPLOAD",CONVERSIONS_API:"CONVERSIONS_API",CONVERSIONS_API_ACCESS_TOKEN:"CONVERSIONS_API_ACCESS_TOKEN",CONVERSIONS_API_PARTNER_SETUP_FLOW:"CONVERSIONS_API_PARTNER_SETUP_FLOW",CONVERSIONS_API_MANUAL_SETUP_FLOW:"CONVERSIONS_API_MANUAL_SETUP_FLOW",PINTEREST_EVENTS_OVERVIEW:"PINTEREST_EVENTS_OVERVIEW",CONVERSIONS:"CONVERSIONS",PINTEREST_EVENTS_OVERVIEW_BEFORE_SETUP:"PINTEREST_EVENTS_OVERVIEW_BEFORE_SETUP",PINTEREST_SETUP_API:"PINTEREST_SETUP_API",NOCODE_CONVERSIONS_API_SETUP_FLOW:"NOCODE_CONVERSIONS_API_SETUP_FLOW",PINTEREST_EVENTS_OVERVIEW_CAPI_TAB:"PINTEREST_EVENTS_OVERVIEW_CAPI_TAB",PINTEREST_EVENT_HISTORY_CAPI_TAB:"PINTEREST_EVENT_HISTORY_CAPI_TAB"},u={DESTINATION:"destination",EXPIRY:"expiry",SOURCE:"attributionsrc",SOURCE_EVENT_ID:"source_event_id",SOURCE_EVENT_TYPE:"source_event_type",PRIORITY:"priority",CLICK_PRIORITY:"2",VIEW_PRIORITY:"1",HOSTNAME:"hostname",CAMPAIGN_ID:"campaign_id",ADVERTISER_ID:"advertiser_id"},l={ATTRIBUTION_SOURCE_ID:"attributionsourceid",ATTRIBUTE_DESTINATION:"attributiondestination",ATTRIBUTE_ON:"attributeon"}},390001(e,t,r){r.d(t,{A:()=>n});let a="/business/business-manager/",i="/business/business-hierarchy/",n=(e,t,r,n)=>{switch(e){case"DASHBOARD":return n?`${i}${String(n)}/dashboard/`:`${a}${String(t)}/dashboard/`;case"MEDIA_NETWORK_DASHBOARD":return`${a}${String(t)}/media-network-hub/dashboard/`;case"PEOPLE":return`${a}${String(t)}/employees/`;case"PARTNERS":return`${a}${String(t)}/partners/`;case"AD_ACCOUNTS":return`${a}${String(t)}/ad-accounts/`;case"HISTORY":return`${a}${String(t)}/history/`;case"PEOPLE_DETAIL":return`${a}${String(t)}/employees/${String(r)}/details/`;case"PARTNERS_DETAIL":return`${a}${String(t)}/partners/${String(r)}/details/`;case"SHARED_PARTNERS_DETAIL":return`${a}${String(t)}/shared/${String(r)}/details/`;case"AD_ACCOUNTS_DETAIL":return`${a}${String(t)}/ad-accounts/${String(r)}/details/`;case"PENDING_AD_ACCOUNTS_DETAIL":return`${a}${String(t)}/ad-accounts/pending/${String(r)}/details/`;case"PEOPLE_PENDING_TAB":return`${a}${String(t)}/employees/pending/`;case"PARTNERS_PENDING_TAB":return`${a}${String(t)}/partners/pending/`;case"AD_ACCOUNTS_PENDING_TAB":return`${a}${String(t)}/ad-accounts/pending`;case"AD_ACCOUNTS_CEE_MIGRATION":return`${a}${String(t)}/ad-accounts/cee-migration`;case"PROFILES":return`${a}${String(t)}/profiles/`;case"PROFILES_DETAIL":return`${a}${String(t)}/profiles/${String(r)}/details/`;case"BUSINESS_SECURITY":return`${a}${String(t)}/security/`;case"ASSET_GROUPS":return r?`${a}${String(t)}/asset-groups/?asset_group_id=${String(r)}`:`${a}${String(t)}/asset-groups/`;case"INVOICE_MANAGEMENT":return`${a}${String(t)}/invoice-management/`;case"BUSINESS_HIERARCHY":return`${i}${String(n)}/hierarchy/`;case"BUSINESS_HIERARCHY_BUSINESS_SECURITY":return`${i}${String(n)}/business_security/`;case"MANAGERS":return`${i}${String(n)}/managers/`;case"AUDIENCES":return`${a}${String(t)}/audiences/`;case"SHARED_TAGS":return`${a}${String(t)}/shared-tags/`;case"CATALOGS":return`${a}${String(t)}/catalogs/`;case"CATALOGS_DETAIL":return`${a}${String(t)}/catalogs/${String(r)}/details/`;case"BRAND_SAFETY":return`${a}${String(t)}/brand-safety/`;case"BUSINESS_SETTINGS":return`${a}${String(t)}/settings/`;case"SYSTEM_USERS":return`${a}${String(t)}/system-users/`;case"APPS":return`${a}${String(t)}/apps/`;case"CONVERSION_DATA":return`${a}${String(t)}/conversion-data/`;default:return a}}},884963(e,t,r){r.d(t,{A:()=>i});var a=r(186122);let i=()=>(0,a.o)().logContextEvent},52715(e,t,r){r.d(t,{AK:()=>n,Qv:()=>a,Wm:()=>i,ZR:()=>l,c7:()=>s,he:()=>u});let a=36e5,i=864e5,n=6048e5,s=2592e6,u=26784e5,l=31536e6},912482(e,t,r){r.d(t,{A:()=>i});var a=r(859471);let i=function(e,t){let[r,i]=(0,a.useState)(e);return(0,a.useEffect)(()=>{let r=setTimeout(()=>{i(e)},t);return()=>{clearTimeout(r)}},[e,t]),r}},266377(e,t,r){r.d(t,{Rp:()=>g,K0:()=>A,$A:()=>R,N_:()=>m,$n:()=>d,A_:()=>O,vx:()=>_});var a=r(859471),i=r(950794),n=r(884963),s=r(165463);function u({auxData:e,componentType:t,elementType:r,eventType:a,view:i,viewParameter:u}){let l=(0,n.A)(),o=(0,s.u)(),d=Object.entries({...e}).filter(([,e])=>void 0!==e).reduce((e,[t,r])=>{let a={...e};return a[t]=r,a},{});return()=>l({event_type:a,view_type:i||o?.view,view_parameter:u||o?.viewParameter,component:t||null,element:r,aux_data:{...d}})}var l=r(562615);let o=(0,a.forwardRef)(({onClick:e,accessibilityLabel:t,color:r,dataTestId:n,disabled:s,iconEnd:o,iconStart:d,fullWidth:c,size:_,tabIndex:p,text:A,logEventProps:E,...m},I)=>{let S=(0,a.useRef)(null),g=(0,a.useRef)(null);(0,a.useImperativeHandle)(I,()=>"submit"===m.type?S.current:g.current);let{auxData:T,componentType:R,elementType:N,view:O,viewParameter:y}=E||{},P=u({componentType:R,elementType:N??10233,eventType:101,view:O,viewParameter:y,auxData:{...T,element_id:n,element_name:m.name}});return"submit"===m.type?(0,l.jsx)(i.$n,{ref:S,accessibilityLabel:t,color:r,dataTestId:n,disabled:s,fullWidth:c,name:m.name,onClick:({event:t})=>{P(),e?.({event:t})},size:_,tabIndex:p,text:A,type:"submit"}):(0,l.jsx)(i.$n,{ref:g,accessibilityControls:m.accessibilityControls,accessibilityExpanded:m.accessibilityExpanded,accessibilityHaspopup:m.accessibilityHaspopup,accessibilityLabel:t,color:r,dataTestId:n,disabled:s,fullWidth:c,iconEnd:o,iconStart:d,lineClamp:m.lineClamp,name:m.name,onClick:({event:t})=>{P(),e?.({event:t})},selected:m.selected,size:_,tabIndex:p,text:A,type:"button"})});o.displayName="Button";let d=o,c=(0,a.forwardRef)(({onClick:e,accessibilityLabel:t,color:r,dataTestId:n,disabled:s,iconEnd:o,fullWidth:d,size:c,tabIndex:_,text:p,href:A,rel:E,target:m,logEventProps:I},S)=>{let g=(0,a.useRef)(null);(0,a.useImperativeHandle)(S,()=>g.current);let{auxData:T,componentType:R,elementType:N,view:O,viewParameter:y}=I||{},P=u({componentType:R,elementType:N??10233,eventType:101,view:O,viewParameter:y,auxData:{...T,element_id:n}});return(0,l.jsx)(i.vx,{ref:g,accessibilityLabel:t,color:r,dataTestId:n,disabled:s,fullWidth:d,href:A??"",iconEnd:o,onClick:({event:t,dangerouslyDisableOnNavigation:r})=>{P(),e?.({event:t,dangerouslyDisableOnNavigation:r})},rel:E,size:c,tabIndex:_,target:m,text:p})});c.displayName="ButtonLink";let _=c,p=(0,a.forwardRef)(({accessibilityLabel:e,bgColor:t,dangerouslySetSvgPath:r,dataTestId:n,disabled:s,icon:o,iconColor:d,onClick:c,padding:_,tabIndex:p,tooltip:A,size:E,logEventProps:m,...I},S)=>{let g=(0,a.useRef)(null),T=(0,a.useRef)(null);(0,a.useImperativeHandle)(S,()=>"submit"===I.type?g.current:T.current);let{auxData:R,componentType:N,elementType:O,view:y,viewParameter:P}=m||{},f=u({componentType:N,elementType:O??10233,eventType:101,view:y,viewParameter:P,auxData:{...R,element_id:n,element_name:I.name}}),b=({event:e})=>{f(),c?.({event:e})};return"submit"===I.type?(0,l.jsx)(i.K0,{accessibilityLabel:e,bgColor:t,dangerouslySetSvgPath:r,dataTestId:n,disabled:s,icon:o,iconColor:d,name:I.name,onClick:b,padding:_,size:E,tabIndex:p,tooltip:A,type:"submit"}):(0,l.jsx)(i.K0,{accessibilityControls:I.accessibilityControls,accessibilityExpanded:I.accessibilityExpanded,accessibilityHaspopup:I.accessibilityHaspopup,accessibilityLabel:e,bgColor:t,dangerouslySetSvgPath:r,dataTestId:n,disabled:s,icon:o,iconColor:d,name:I.name,onClick:b,padding:_,selected:I.selected,size:E,tabIndex:p,tooltip:A,type:"button"})});p.displayName="IconButton";let A=p;(0,a.forwardRef)(({accessibilityLabel:e,bgColor:t,dangerouslySetSvgPath:r,dataTestId:n,disabled:s,href:o,icon:d,iconColor:c,onClick:_,padding:p,tabIndex:A,rel:E,size:m,target:I,tooltip:S,logEventProps:g},T)=>{let R=(0,a.useRef)(null);(0,a.useImperativeHandle)(T,()=>R.current);let{auxData:N,componentType:O,elementType:y,view:P,viewParameter:f}=g||{},b=u({componentType:O,elementType:y??10233,eventType:101,view:P,viewParameter:f,auxData:{...N,element_id:n}});return(0,l.jsx)(i.AR,{ref:T,accessibilityLabel:e,bgColor:t,dangerouslySetSvgPath:r,dataTestId:n,disabled:s,href:o,icon:d,iconColor:c,onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{b(),_?.({event:e,dangerouslyDisableOnNavigation:t})},padding:p,rel:E,size:m,tabIndex:A,target:I,tooltip:S})}).displayName="IconButtonLink";let E=(0,a.forwardRef)(({accessibilityLabel:e,children:t,dataTestId:r,display:n,externalLinkIcon:s,href:o,id:d,onBlur:c,onClick:_,onFocus:p,rel:A,rounding:E,underline:m,tapStyle:I,target:S,logEventProps:g},T)=>{let R=(0,a.useRef)(null);(0,a.useImperativeHandle)(T,()=>R.current);let{auxData:N,componentType:O,elementType:y,view:P,viewParameter:f}=g||{},b=u({componentType:O,elementType:y??10213,eventType:101,view:P,viewParameter:f,auxData:{...N,element_id:r}});return(0,l.jsx)(i.N_,{ref:T,accessibilityLabel:e,dataTestId:r,display:n,externalLinkIcon:s,href:o,id:d,onBlur:c,onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{b(),_?.({event:e,dangerouslyDisableOnNavigation:t})},onFocus:p,rel:A,rounding:E,tapStyle:I,target:S,underline:m,children:t})});E.displayName="Link";let m=E;var I=r(840910);let S=(0,a.forwardRef)(({accessibilityLabel:e,accessibilityChecked:t,accessibilityControls:r,accessibilityExpanded:n,accessibilityHaspopup:s,children:o,dataTestId:d,disabled:c,fullHeight:_,fullWidth:p,mouseCursor:A,onBlur:E,onKeyDown:m,onFocus:I,onMouseDown:S,onMouseUp:g,onMouseEnter:T,onMouseLeave:R,onTap:N,tabIndex:O,role:y,rounding:P,tapStyle:f,logEventProps:b},C)=>{let v=(0,a.useRef)(null);(0,a.useImperativeHandle)(C,()=>v.current);let{auxData:h,componentType:L,elementType:w,view:U,viewParameter:D}=b||{},M=u({componentType:L,elementType:w??10233,eventType:101,view:U,viewParameter:D,auxData:{...h,element_id:d}});return(0,l.jsx)(i.Rp,{accessibilityChecked:t,accessibilityControls:r,accessibilityExpanded:n,accessibilityHaspopup:s,accessibilityLabel:e,dataTestId:d,disabled:c,fullHeight:_,fullWidth:p,mouseCursor:A,onBlur:E,onFocus:I,onKeyDown:m,onMouseDown:S,onMouseEnter:T,onMouseLeave:R,onMouseUp:g,onTap:({event:e})=>{M(),N?.({event:e})},role:y,rounding:P,tabIndex:O,tapStyle:f,children:o})});S.displayName="TapArea";let g=S,T=(0,a.forwardRef)(({accessibilityLabel:e,accessibilityCurrent:t,children:r,dataTestId:n,disabled:s,fullHeight:o,fullWidth:d,href:c,mouseCursor:_,onBlur:p,onKeyDown:A,onFocus:E,onMouseDown:m,onMouseUp:I,onMouseEnter:S,onMouseLeave:g,onTap:T,tabIndex:R,rel:N,rounding:O,tapStyle:y,target:P,logEventProps:f},b)=>{let C=(0,a.useRef)(null);(0,a.useImperativeHandle)(b,()=>C.current);let{auxData:v,componentType:h,elementType:L,view:w,viewParameter:U}=f||{},D=u({componentType:h,elementType:L??10233,eventType:101,view:w,viewParameter:U,auxData:{...v,element_id:n}});return(0,l.jsx)(i.$A,{ref:b,accessibilityCurrent:t,accessibilityLabel:e,dataTestId:n,disabled:s,fullHeight:o,fullWidth:d,href:c,mouseCursor:_,onBlur:p,onFocus:E,onKeyDown:A,onMouseDown:m,onMouseEnter:S,onMouseLeave:g,onMouseUp:I,onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{D(),T?.({event:e,dangerouslyDisableOnNavigation:t})},rel:N,rounding:O,tabIndex:R,tapStyle:y,target:P,children:r})});T.displayName="TapAreaLink";let R=T;var N=r(912482);let O=({autoComplete:e,dataTestId:t,disabled:r,errorMessage:u,errorMessageDisplay:o,helperText:d,id:c,isPii:_,label:p,labelDisplay:A,logEventProps:E,maxLength:m,name:S,onBlur:g,onChange:T,onFocus:R,onKeyDown:O,placeholder:y,size:P,type:f,value:b,hasError:C,mobileEnterKeyHint:v,mobileInputMode:h,readOnly:L,tags:w,ref:U})=>{(0,a.useEffect)(()=>{(0,I.A)("TextField","/app/packages/gestaltExtensions/adsLoggingExtension/TextField.tsx")},[]);let[D,M]=(0,a.useState)(null);return(({dataTestId:e,id:t,isPii:r,logEventProps:i,name:u,type:l,valueToDebounce:o})=>{let d=(0,n.A)(),c=(0,s.u)(),_=(0,N.A)(o,3e3),{auxData:p,componentType:A,elementType:E,view:m,viewParameter:I}=i||{},S=(0,a.useMemo)(()=>(({auxData:e,componentType:t,elementType:r,eventType:a,view:i,viewParameter:n,reportingContext:s})=>({event_type:a,view_type:i||s?.view,view_parameter:n||s?.viewParameter,component:t||null,element:r,aux_data:{...(({auxData:e})=>Object.entries({...e}).filter(([,e])=>void 0!==e).reduce((e,[t,r])=>{let a={...e};return a[t]=r,a},{}))({auxData:e})}}))({auxData:{...p,element_id:t||e,element_name:u,value:"password"===l||r?null:_},componentType:A,elementType:E??10211,eventType:97,view:m,viewParameter:I,reportingContext:c}),[A,E,m,I,c,p,e,_,t,r,u,l]);(0,a.useEffect)(()=>{"string"==typeof _&&d(S)},[S,d,_])})({dataTestId:t,id:c,isPii:_,logEventProps:E,name:S,type:f,valueToDebounce:D}),(0,l.jsx)(i.A_,{ref:U,autoComplete:e,dataTestId:t||c,disabled:r,errorMessage:u,errorMessageDisplay:o,hasError:C,helperText:d,id:c,label:p,labelDisplay:A,maxLength:m,mobileEnterKeyHint:v,mobileInputMode:h,name:S,onBlur:g,onChange:({event:e,value:t})=>{T({event:e,value:t}),M(t)},onFocus:R,onKeyDown:O,placeholder:y,readOnly:L,size:P,tags:w,type:f,value:b})}},301248(e,t,r){r.d(t,{A:()=>n});var a=r(479123);let i=["/BingSiteAuth.xml","/about","/add-account","/ads","/ads.txt","/age_verification","/all","/app-ads.txt","/apple-app-site-association","/apple-app-site-association.p7m","/attribution_source","/bot.html","/branded-pins","/browserbutton","/buy-it","/camera-sam-segmentation","/careers","/categories","/close-account","/collage-creation-tool","/color-seasons","/compare","/content-claiming","/convert-business","/convert-personal","/create-business","/create-personal","/creation-inspiration","/creator-onboarding-landing","/csrf_error","/ct.html","/deactivate-account","/deed6a3ef3a44d41bb3ae2bad137db84.txt","/developers","/discover","/edit","/email_verification_error","/engagement","/explore","/favicon.ico","/fb.html","/following","/getWebPushKey","/google_gdn.html","/google_search.html","/googlef5dc42d6e03f6e61.html","/guidedsearch","/help","/holidays-celebrations","/homefeed","/idea-ads-tool","/idea-pin-builder","/ideas","/image-proxy.html","/inbox","/install-shuffles","/invited","/jobs","/lens-sam-segmentation","/lens-search","/login","/logout","/manifest.json","/manifest.webapp","/me","/messages","/mobile","/notifications","/oauth","/app-factory-oauth","/appealed-pin","/oembed.json","/offline.html","/offsite","/opensearch.xml","/parent_contact_info","/parental-passcode","/pin-builder","/pin-creation-tool","/pin-editor","/pin_catalog","/pin_redirect","/pinterest-wellbeing","/pinterest-predicts","/pinterestlens","/pinterestlenstryon","/pinterestwellbeing","/policy","/example-tentpole-campaign-predicts2026","/product-catalogs","/public-beta","/quick-instant-loading-indicator-app-shell.html","/recently-viewed","/refresh_stored_accounts","/refresh_token","/report","/reports-and-violations","/request-ad-data","/request-data","/robots.txt","/safe-redirect","/search","/session_key","/settings","/shopping","/signup","/socialmanager","/story-pin-builder","/story_feed","/sw-shell.html","/sw.html","/sw.js","/switch_account","/terms","/today","/topics","/transparent.html","/unauth-profile","/unlink","/upload-image","/upload-lens-image-history","/upload-lens-image","/upload-profile-image","/upload-shuffle-draft","/upload-shuffle-image","/verified","/verify","/videos","/web-mentorship","/welcome","/windows-app-web-link","/your-shop"];function n(e){return!!(0,a.B6)({path:"/:username/",end:!0},e.pathname)&&!i.includes(e.pathname.replace(/\/$/,""))}},805261(e,t,r){r.d(t,{AR:()=>s,Lj:()=>l,Og:()=>_,W2:()=>c,Zv:()=>o,eA:()=>i,lT:()=>n,t:()=>u,ub:()=>d});var a=r(835400);let i="https://www.pinterest.com/business/hub/",n="https://www.pinterest.com/homefeed/",s="www.pinterest.com",u="https://www.pinterest.com/_/_/help",l=`${(0,a.A)({site:"www"})}`,o=(0,a.A)({site:"developers"}),d=`${(0,a.A)({site:"sterling"})}`,c=`${(0,a.A)({site:"analytics"})}`,_=`${(0,a.A)({site:"trends"})}`;(0,a.A)({site:"www",path:"/business/catalogs/?advertiserId="}),(0,a.A)({site:"business"})},47220(e,t,r){r.d(t,{A:()=>a});function a(e){return{type:"UPDATE_VIEWER_IS_PROFILE_OWNER_OR_PROFILE_MANAGER",payload:e}}},95832(e,t,r){r.d(t,{A:()=>a});let a=({businessAccess:e})=>e??{}},356755(e,t,r){r.d(t,{K:()=>m,C:()=>I});var a=r(859471),i=r(4513),n=r(837855),s=r(799632),u=r(239928),l=r(497398),o=r(395394),d=r(250913);let c=e=>{let t={};for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&("object"!=typeof e[r]||null===e[r]||Array.isArray(e[r])?t[(0,d.A)(r)]=e[r]:t[(0,d.A)(r)]=c(e[r]));return t},_={profiles:new Map,headerVisible:!1,orbacVisibility:!1,activeProfile:void 0,disableProfileChanger:!1},p=(e,t)=>{switch(t.type){case"LOAD_PROFILES":return{...e,profiles:t.payload};case"SET_ACTIVE_PROFILE":return{...e,activeProfile:t.payload};case"TOGGLE_HEADER_VISIBILITY":return{...e,headerVisible:t.payload};case"TOGGLE_ORBAC_VISIBILITY":return{...e,orbacVisibility:t.payload};case"TOGGLE_DISABLE_PROFILE_CHANGER":return{...e,disableProfileChanger:t.payload};default:return e}};var A=r(562615);let{Provider:E,getMaybe:m}=(0,i.A)("RoleBasedAccessControlContext"),I=({children:e})=>{let t=(0,n.A)(),r=!!(t.isAuth&&t.isPartner),{state:i,actions:d,receiveProfiles:m}=(e=>{let[t,r]=(0,a.useReducer)(p,_),i=(({dispatch:e,isEnabled:t,state:r})=>{let{orbacVisibility:i,disableProfileChanger:n,headerVisible:s}=r,u=(0,a.useCallback)(r=>{t&&e({type:"SET_ACTIVE_PROFILE",payload:r})},[t,e]);return{changeProfile:u,toggleORBACVisibility:(0,a.useCallback)(r=>{t&&e({type:"TOGGLE_ORBAC_VISIBILITY",payload:r??!i})},[t,e,i]),toggleDisableProfileChanger:(0,a.useCallback)(r=>{t&&e({type:"TOGGLE_DISABLE_PROFILE_CHANGER",payload:r??!n})},[t,e,n]),toggleHeaderVisibility:(0,a.useCallback)(r=>{t&&e({type:"TOGGLE_HEADER_VISIBILITY",payload:r??!s})},[t,e,s])}})({dispatch:r,isEnabled:e,state:t}),{activeProfile:n,orbacVisibility:s}=t;return(0,a.useEffect)(()=>{let e=(0,o.V2)().getItem(l.b6)||!1;e&&r({type:"SET_ACTIVE_PROFILE",payload:e})},[]),(0,a.useEffect)(()=>{let e=(0,o.V2)().getItem(l.t5)||!1;e&&r({type:"TOGGLE_ORBAC_VISIBILITY",payload:e})},[]),(0,a.useEffect)(()=>{(0,o.V2)().setItem(l.t5,s)},[s]),(0,a.useEffect)(()=>{(0,o.V2)().setItem(l.b6,n)},[n]),{state:t,actions:i,receiveProfiles:(0,a.useCallback)((e,t)=>{r({type:"LOAD_PROFILES",payload:((e,t)=>{let r=[];for(let a in e)a!==t&&r.push({id:a,...c(e[a])});let a=r.sort(({user:{businessName:e}},{user:{businessName:t}})=>e.localeCompare(t)),i=new Map;for(let e of a)i.set(e.id,e);return i})(e,t)})},[r])}})(r),{activeProfile:I,headerVisible:S,profiles:g}=i,T=(0,a.useMemo)(()=>g?Array.from(g.values()):[],[g]),R=(0,u.A)(T),N=!!t.isAuth&&T.length>0&&R,O=t.isAuth?t.id:"",y=t.isAuth?t.username:"",{changeProfile:P,toggleORBACVisibility:f,toggleDisableProfileChanger:b,toggleHeaderVisibility:C}=d;(0,a.useEffect)(()=>{!r||("string"==typeof R?P(R):I||P(O))},[R,O,r,P,I]),(0,a.useEffect)(()=>{r&&(N&&!S&&C(!0),!N&&S&&C(!1))},[C,N,r,S,g]);let{data:v}=(0,s.A)(r?{name:"ApiResource",options:{url:"/vx/business_access/profiles/",disable_auth_failure_redirect:!0}}:null),h=v?.profiles,L=(0,a.useMemo)(()=>t&&t.isAuth&&I===t.id?{id:t.id,permissions:["OWNER"],user:{username:y,businessName:t.fullName,imgUrl:t.imageSmallUrl}}:I&&g?g.get(I):void 0,[I,g,t,y]);(0,a.useEffect)(()=>{h&&m(h,O)},[m,h,O]);let w=(0,a.useMemo)(()=>({profiles:T,headerVisible:S,activeProfile:L,changeProfile:P,toggleORBACVisibility:f,toggleDisableProfileChanger:b,toggleHeaderVisibility:C}),[T,S,L,P,f,b,C]);return(0,A.jsx)(E,{value:w,children:e})}},251381(e,t,r){r.d(t,{A:()=>l});var a=r(859471),i=r(805454),n=r(356755),s=r(239928);let u=Object.freeze({}),l=()=>{let{checkExperiment:e}=(0,i.A)(),t=(0,n.K)(),{activeProfile:r}=t||{},l=(0,s.A)(t?.profiles||[]),{anyEnabled:o}=e("useorbacroutematcher_in_useorbacactingas");return(0,a.useMemo)(()=>o&&!l?u:r&&(r.viewerMeetsMfaRequirement||(r.permissions||[]).includes("OWNER"))?r:u,[o,l,r])}},239928(e,t,r){r.d(t,{A:()=>u});var a=r(979638),i=r(837855),n=r(424054),s=r(265124);let u=e=>{let t=(0,a.zy)(),r=(0,i.A)(),u=(0,s.HR)(),l=(0,a.RQ)("/:username"),o=(0,a.RQ)("/:username/*"),d=(l||o)?.params?.username,c=(0,a.RQ)("/pin/:id"),_=(0,a.RQ)("/pin/:id/*"),p=c||_,A=!!p?.params?.id&&u(p.params.id)?.pinner?.id;if((0,n.vo)(t))return!1;if((0,n.Ir)(t)||(0,n.VX)(t))return!0;let E=[...e,...r.isAuth?[{user:{username:r.username},id:r.id}]:[]].find(e=>{if(!e)return!1;let{user:t,id:r}=e;return(!!t&&"username"in t&&!!t.username&&!!d||!!A&&!!r)&&(t.username===d||A===r)});return!!E&&E.id}},667576(e,t,r){r.d(t,{D9:()=>_,EL:()=>s,EQ:()=>l,H7:()=>u,Hs:()=>d,Nn:()=>c,Qp:()=>n,TO:()=>i,if:()=>p,uF:()=>a,wf:()=>o});let a=(e,t)=>{let r=e&&e.isAuth?e.fullName:"";return e&&t&&t.user&&t.user.businessName&&(r=t.user.businessName),r},i=(e,t)=>{let r=e&&e.isAuth?e.username:"";return e&&t&&t.user&&t.user.username&&(r=t.user.username),r},n=(e,t)=>{let r=e&&e.isAuth?e.imageMediumUrl:"";return e&&t&&t.user&&t.user.imgUrl&&(r=t.user.imgUrl),r},s=(e,t)=>!!(t&&t.user&&e&&e.isAuth&&t.id!==e.id?t.user.eligibleForStlTool:e&&e.isAuth&&e.eligibleForStlTool),u=(e,t)=>e&&e.isAuth&&t&&t.id&&t.id!==e.id?t.id:"",l=(e,t,r)=>r&&r.user&&t&&t.isAuth&&r.id!==t.id?r.user.merchantId:e.advertiser?.merchant_id,o=(e,t,r)=>r&&r.user&&e.isAuth&&r.id!==e.id?r.user.scheduledPinCount||0:e.isAuth&&t&&t.scheduled_pin_count||0,d=(e,t,r)=>!!(e&&e.isAuth&&r&&r.id&&r.id!==e.id&&r.id===t),c=(e,t,r)=>!!(d(e,t,r)||e&&e.isAuth&&t===e.id),_=(e,t,r)=>c(e,t&&t.owner&&t.owner.id||"",r);function p(e,t,r){return c(e,t?t.id:"",r)}},208611(e,t,r){r.d(t,{C:()=>i,f:()=>a});let a={ADS_MANAGER:"ADS_MANAGER",AUTOMATED_CAMPAIGN:"AUTOMATED_CAMPAIGN"},i=e=>Object.values(a).includes(e)},165463(e,t,r){r.d(t,{u:()=>i});let{Provider:a,getMaybe:i}=(0,r(4513).A)("reportingContext")},211583(e,t,r){r.d(t,{EO:()=>n,Mk:()=>i,mj:()=>s});var a=r(859471);function i(e){let[t,r]=(0,a.useState)(!1),i=()=>r(!0),n=()=>r(!1);return(0,a.useEffect)(()=>{let{current:t}=e;return t&&(t.addEventListener("mouseenter",i),t.addEventListener("mouseleave",n)),()=>{t&&(t.removeEventListener("mouseenter",i),t.removeEventListener("mouseleave",n))}}),t}let n=e=>{let t=(0,a.useRef)(e);return(0,a.useEffect)(()=>{t.current=e}),t.current};function s(){let e=(0,a.useRef)(!0);return(0,a.useEffect)(()=>{e.current=!1},[]),e.current}Symbol("pre-initial value")},124712(e,t,r){r.d(t,{g:()=>a});function a(e){return null==e}},265124(e,t,r){r.d(t,{HR:()=>o,Sk:()=>d,Vk:()=>l,zy:()=>u});var a=r(106386),i=r(4513),n=r(562615);let{Provider:s,get:u,getMaybe:l}=(0,i.A)("Pins");function o(){let e=u();return t=>e[t]}function d({children:e}){let t=(0,a.d4)(({pins:e})=>e,a.bN);return(0,n.jsx)(s,{value:t,children:e})}},896972(e,t,r){r.d(t,{Ax:()=>d,DF:()=>o,Eo:()=>c,V_:()=>l,u5:()=>_});var a=r(106386),i=r(4513),n=r(837855),s=r(562615);let{Provider:u,get:l}=(0,i.A)("Users");function o(){let e=l();return t=>e[t]}function d(){let e=l();return(t,r=!1)=>{let a=Object.keys(e).find(r=>e[r].username===t);if(a||!r)return e[a??""]}}function c(){let e=(0,n.A)();return l()[e.isAuth?e.id:""]}function _({children:e}){let t=(0,a.d4)(({users:e})=>e,a.bN);return(0,s.jsx)(u,{value:t,children:e})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/68588-24fe381d41e54e7c.mjs.map